{"version":3,"file":"createSignalObject.js","names":["createSignal","createSignalObject","value","options","get","set"],"sources":["../src/createSignalObject.ts"],"sourcesContent":["import {createSignal} from './createDeferredEffect.js'\nimport type {SignalOptions} from 'solid-js/types/reactive/signal'\nimport type {Signal} from 'solid-js/types/reactive/signal'\n\n/**\n * A signal represented as an object with .get and .set methods.\n */\nexport interface SignalObject<T> {\n\t/** Gets the signal value. */\n\tget: Signal<T>[0]\n\t/** Sets the signal value. */\n\t// set: Signal<T>[1] // FIXME broke in Solid 1.7.9\n\tset: (v: T | ((prev: T) => T)) => T\n}\n\n/**\n * Create a Solid signal wrapped in the form of an object with `.get` and `.set`\n * methods for alternative usage patterns.\n *\n * ```js\n * let count = createSignalObject(0) // count starts at 0\n * count.set(1) // set the value of count to 1\n * count.set(count.get() + 1) // add 1\n * let currentValue = count.get() // read the current value\n * ```\n *\n * This is more convenient for class properties than using `createSignal`. With `createSignal`:\n *\n * ```js\n * class Foo {\n *   count = createSignal(0)\n *\n *   increment() {\n *     // difficult to read\n *     this.count[1](this.count[0]() + 1)\n *\n *     // also:\n *     this.count[1](c => c + 1)\n *   }\n * }\n * ```\n *\n * With `createSignalObject`:\n *\n * ```js\n * class Foo {\n *   count = createSignalObject(0)\n *\n *   increment() {\n *     // Easier to read\n *     this.count.set(this.count.get() + 1)\n *\n *     // also:\n *     this.count.set(c => c + 1)\n *   }\n * }\n * ```\n *\n * See also `createSignalFunction` for another pattern.\n */\nexport function createSignalObject<T>(): SignalObject<T | undefined>\nexport function createSignalObject<T>(value: T, options?: SignalOptions<T>): SignalObject<T>\nexport function createSignalObject<T>(value?: T, options?: SignalOptions<T>): SignalObject<T> {\n\tconst [get, set] = createSignal<T>(value as T, options)\n\treturn {get, set}\n}\n"],"mappings":"AAAA,SAAQA,YAAY,QAAO,2BAA2B;;AAItD;AACA;AACA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,SAASC,kBAAkBA,CAAIC,KAAS,EAAEC,OAA0B,EAAmB;EAC7F,MAAM,CAACC,GAAG,EAAEC,GAAG,CAAC,GAAGL,YAAY,CAAIE,KAAK,EAAOC,OAAO,CAAC;EACvD,OAAO;IAACC,GAAG;IAAEC;EAAG,CAAC;AAClB"}