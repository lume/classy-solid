{"version":3,"file":"signal.test.js","names":["$PROXY","createEffect","createMutable","testButterflyProps","signal","signalify","isSignalGetter__","memo","describe","_initProto","_init_colors","_init_extra_colors","_init_colors2","_init_extra_colors2","_init_wingSize","_init_extra_wingSize","_initProto2","_init_colors3","_init_extra_colors3","_init_colors4","_init_extra_colors4","_init_wingSize2","_init_extra_wingSize2","_init_colors5","_init_extra_colors5","_init_wingSize3","_init_extra_wingSize3","_init_colors6","_get_colors","_set_colors","_init_extra_colors6","_initProto3","_call_colors","_call_colors2","_initProto4","_initProto5","Butterfly","_applyDecs","e","colors","wingSize","child","constructor","s","it","b","Butterfly2","Butterfly3","Butterfly4","A","v","Butterfly5","Butterfly6","o","_","#colors","getColors","setColors","testPrivate","Butterfly7","_colors","Base","Butterfly8","count","expect","toBe","_init_colors7","_init_extra_colors7","Mid","b0","testProp","Object","getOwnPropertyDescriptor","get","call","SubButterfly","args","m","value","SubSubButterfly","b2","k","startVal","newVal","reactive","_initProto6","_init_colors8","_init_extra_colors8","Insect","double","arg","_init_do","_init_extra_do","Doer","do","doer","newFunc","_initProto7","_init_venomous","_init_extra_venomous","_init_legs","_init_extra_legs","venomous","legs","eyes","n","antennas","i","testNoDuplicateSignal","prop","_initProto8","_init_age","_init_extra_age","plain","proxy","Human","metadata","_signal","context","memoRuns","CoolKid","age","ageInDogYears","kid","classySolid_members","find","name","applied","descriptor","getter","has","_init_secret","_init_extra_secret","Secretive","secret","getSecret","setSecret","toThrow","_init_secret2","_get_secret","_set_secret","_init_extra_secret2","#secret","_initProto9","_call_secret","_call_secret2","secret_","_init_val","_init_extra_val","_init_val2","_init_extra_val2","val","Sub","_init_n","_init_extra_n","_init_n2","_init_extra_n2","_initProto0","_initProto1","last","_initProto10","_initProto11","_initProto12","runs","_val","_initProto13","_initProto14","x","y","_init_val3","_init_extra_val3","_init_val4","_init_extra_val4","effectRuns","_init_val5","_init_extra_val5","_init_val6","_init_extra_val6","someDeco","_context","initialVal","_init_val7","_init_extra_val7","_init_val8","_init_extra_val8","_initProto15","_initProto16","__foo","_init_val9","_init_extra_val9","InvalidStatic","_initProto17","InvalidMethod","method","run","_init_dupe","_init_extra_dupe","_init_dupe2","_init_extra_dupe2","SuperDuper","dupe"],"sources":["../../src/decorators/signal.test.ts"],"sourcesContent":["import {$PROXY, createEffect} from 'solid-js'\nimport {createMutable} from 'solid-js/store'\nimport {testButterflyProps} from '../index.test.js'\nimport {signal} from './signal.js'\nimport {signalify} from '../signals/signalify.js'\nimport type {ClassySolidMetadata} from './types.js'\nimport {isSignalGetter__} from '../_state.js'\nimport {memo} from './memo.js'\n\ndescribe('classy-solid', () => {\n\tdescribe('@signal decorator', () => {\n\t\tclass Butterfly {\n\t\t\t@signal colors = 3\n\n\t\t\t#wingSize = 2\n\n\t\t\t// Stick this here to ensure that nested constructor doesn't\n\t\t\t// interfere with decorator behavior mid-way through initialization\n\t\t\t// of the wrapper parent class (tested with a subclass)\n\t\t\tchild: Butterfly | null = this.constructor !== Butterfly ? new Butterfly() : null\n\n\t\t\t@signal get wingSize() {\n\t\t\t\treturn this.#wingSize\n\t\t\t}\n\t\t\t@signal set wingSize(s: number) {\n\t\t\t\tthis.#wingSize = s\n\t\t\t}\n\t\t}\n\n\t\tit('makes class fields reactive, using class and field/getter/setter decorators', () => {\n\t\t\tconst b = new Butterfly()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly2 {\n\t\t\t@signal colors = 3\n\t\t\t@signal wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly2()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly3 {\n\t\t\t@signal colors = 3\n\n\t\t\t#wingSize = 2\n\n\t\t\t@signal get wingSize() {\n\t\t\t\treturn this.#wingSize\n\t\t\t}\n\t\t\t@signal set wingSize(s: number) {\n\t\t\t\tthis.#wingSize = s\n\t\t\t}\n\t\t}\n\n\t\tit('makes class fields reactive, using field/getter/setter decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly3()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly4 {\n\t\t\t@signal colors = 3\n\t\t\t@signal accessor wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field/accessor decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly4()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly5 {\n\t\t\t@signal colors = 3\n\t\t\t@signal accessor wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field/accessor decorators with class decorator', () => {\n\t\t\tconst b = new Butterfly5()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly6 {\n\t\t\t@signal accessor #colors = 3\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.#colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes private class auto accessor reactive', () => {\n\t\t\tconst b = new Butterfly6()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tclass Butterfly7 {\n\t\t\t#_colors = 3\n\n\t\t\t@signal get #colors() {\n\t\t\t\treturn this.#_colors\n\t\t\t}\n\t\t\t@signal set #colors(v: number) {\n\t\t\t\tthis.#_colors = v\n\t\t\t}\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.#colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes private class getter/setter accessors reactive', () => {\n\t\t\tconst b = new Butterfly7()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tclass Base {\n\t\t\t#colors = 3\n\n\t\t\t@signal get colors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\t@signal set colors(v: number) {\n\t\t\t\tthis.#colors = v\n\t\t\t}\n\t\t}\n\n\t\tclass Butterfly8 extends Base {\n\t\t\t#colors = 3\n\n\t\t\t@signal override get colors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\t@signal override set colors(v: number) {\n\t\t\t\tthis.#colors = v\n\t\t\t}\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes overridden class getter/setter accessors reactive', () => {\n\t\t\tconst b = new Butterfly8()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tfunction testPrivate(b: Pick<Butterfly6, 'getColors' | 'setColors'>) {\n\t\t\tlet count = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\tb.getColors()\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(b.getColors()).toBe(3)\n\t\t\texpect(count).toBe(1)\n\n\t\t\tb.setColors(5)\n\t\t\texpect(b.getColors()).toBe(5)\n\t\t\texpect(count).toBe(2)\n\t\t}\n\n\t\tit('allows overridden fields to work as expected', async () => {\n\t\t\tclass Mid extends Butterfly {\n\t\t\t\toverride colors = 0\n\t\t\t}\n\n\t\t\t// ensure subclass did not interfere with functionality of base class\n\t\t\tnew Butterfly() // ensure first instantiation doesn't affect later ones\n\t\t\tconst b0 = new Butterfly()\n\t\t\ttestProp(b0, 'colors', 3, 4, true)\n\t\t\texpect(Object.getOwnPropertyDescriptor(b0, 'colors')?.get?.call(b0) === 4).toBe(true) // accessor descriptor\n\n\t\t\tclass SubButterfly extends Mid {\n\t\t\t\t@signal override colors = 123\n\t\t\t}\n\n\t\t\t// ensure subclass did not interfere with functionality of base class\n\t\t\tconst m = new Mid()\n\t\t\ttestProp(m, 'colors', 0, 1, false)\n\t\t\texpect(Object.getOwnPropertyDescriptor(m, 'colors')?.value === 1).toBe(true) // value descriptor\n\n\t\t\tclass SubSubButterfly extends SubButterfly {\n\t\t\t\toverride colors = 456\n\t\t\t}\n\n\t\t\tconst b = new SubButterfly()\n\t\t\ttestButterflyProps(b, 123)\n\n\t\t\tconst b2 = new SubSubButterfly()\n\n\t\t\ttestProp(b2, 'colors', 456, 654, false)\n\t\t})\n\n\t\tfunction testProp<T extends object>(o: T, k: keyof T, startVal: any, newVal: any, reactive = true) {\n\t\t\tlet count = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\to[k]\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(o[k]).toBe(startVal)\n\t\t\texpect(count).toBe(1)\n\n\t\t\to[k] = newVal // should not be a signal, should not trigger\n\n\t\t\texpect(o[k]).toBe(newVal)\n\t\t\texpect(count).toBe(reactive ? 2 : 1)\n\t\t}\n\n\t\tit('does not prevent superclass constructor from receiving subclass constructor args', () => {\n\t\t\tclass Insect {\n\t\t\t\tconstructor(public double: number) {}\n\t\t\t}\n\n\t\t\tclass Butterfly extends Insect {\n\t\t\t\t@signal colors = 3\n\n\t\t\t\t#wingSize = 2\n\n\t\t\t\t@signal get wingSize() {\n\t\t\t\t\treturn this.#wingSize\n\t\t\t\t}\n\t\t\t\t@signal set wingSize(s: number) {\n\t\t\t\t\tthis.#wingSize = s\n\t\t\t\t}\n\n\t\t\t\tconstructor(arg: number) {\n\t\t\t\t\tsuper(arg * 2)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly(4)\n\n\t\t\texpect(b.double).toBe(8)\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('works with function values', () => {\n\t\t\t// This test ensures that functions are handled propertly, because\n\t\t\t// if passed without being wrapped to a signal setter it will be\n\t\t\t// called immediately with the previous value and be expected to\n\t\t\t// return a new value, instead of being set as the actual new value.\n\n\t\t\tclass Doer {\n\t\t\t\t@signal do: (() => unknown) | null = null\n\t\t\t}\n\n\t\t\tconst doer = new Doer()\n\n\t\t\texpect(doer.do).toBe(null)\n\n\t\t\tconst newFunc = () => 123\n\t\t\tdoer.do = newFunc\n\n\t\t\texpect(doer.do).toBe(newFunc)\n\t\t\texpect(doer.do()).toBe(123)\n\t\t})\n\n\t\tit('prevents duplicate signals for any property', () => {\n\t\t\tclass Insect {\n\t\t\t\t@signal venomous = 0\n\n\t\t\t\t@signal accessor legs = 6\n\n\t\t\t\t#eyes = 10\n\t\t\t\t@signal get eyes() {\n\t\t\t\t\treturn this.#eyes\n\t\t\t\t}\n\t\t\t\t@signal set eyes(n) {\n\t\t\t\t\tthis.#eyes = n\n\t\t\t\t}\n\n\t\t\t\tantennas = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\t// This should not add any extra signals for properties that\n\t\t\t\t\t// are already signalified by the @signal decorator\n\t\t\t\t\tsignalify(this, 'venomous', 'legs', 'eyes', 'antennas')\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst i = new Insect()\n\n\t\t\ttestNoDuplicateSignal(i, 'venomous')\n\t\t\ttestNoDuplicateSignal(i, 'legs')\n\t\t\ttestNoDuplicateSignal(i, 'eyes')\n\t\t\ttestNoDuplicateSignal(i, 'antennas')\n\n\t\t\tfunction testNoDuplicateSignal(o: Insect, prop: keyof Insect) {\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tcount++\n\t\t\t\t\to[prop]\n\t\t\t\t})\n\t\t\t\texpect(count).toBe(1)\n\t\t\t\to[prop]++\n\t\t\t\texpect(count).toBe(2) // it would be 3 if there were an extra signal\n\t\t\t}\n\t\t})\n\n\t\tit('no-ops with Solid proxies to avoid an unnecessary extra signal', () => {\n\t\t\tlet plain!: Human\n\t\t\tlet proxy!: Human\n\n\t\t\tclass Human {\n\t\t\t\tconstructor() {\n\t\t\t\t\tplain = this\n\t\t\t\t\treturn (proxy = createMutable(this))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet metadata!: ClassySolidMetadata\n\n\t\t\tconst _signal = (_: unknown, context: ClassFieldDecoratorContext) => {\n\t\t\t\tmetadata = context.metadata as ClassySolidMetadata\n\t\t\t\treturn signal(_, context)\n\t\t\t}\n\n\t\t\tlet memoRuns = 0\n\n\t\t\tclass CoolKid extends Human {\n\t\t\t\t@_signal age = 3\n\n\t\t\t\t@memo get ageInDogYears() {\n\t\t\t\t\tmemoRuns++\n\t\t\t\t\treturn this.age * 7\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst kid = new CoolKid()\n\n\t\t\t// Verify we got a Solid Proxy.\n\t\t\texpect(plain === proxy).toBe(false)\n\t\t\texpect((plain as any)[$PROXY] === proxy).toBe(true)\n\n\t\t\texpect(metadata.classySolid_members!.find(m => m.name === 'age')!.applied.get(kid)).toBe(true)\n\n\t\t\t// Verify it there is not our own signal getter applied (it may be\n\t\t\t// the Solid Proxy's, or none, depending on how the Solid Proxy\n\t\t\t// implementation goes).\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(kid, 'age')\n\t\t\tconst getter = descriptor!.get!\n\t\t\texpect(isSignalGetter__.has(getter)).toBe(false)\n\n\t\t\tlet count = 0\n\t\t\tcreateEffect(() => {\n\t\t\t\tcount++\n\t\t\t\tkid.age\n\t\t\t})\n\n\t\t\texpect(count).toBe(1)\n\t\t\texpect(kid.age).toBe(3)\n\t\t\t// check that @memo still works with the Proxy\n\t\t\texpect(memoRuns).toBe(1)\n\t\t\texpect(kid.ageInDogYears).toBe(21)\n\n\t\t\tkid.age = 4\n\n\t\t\texpect(count).toBe(2)\n\t\t\texpect(kid.age).toBe(4)\n\t\t\t// check that @memo still works with the Proxy\n\t\t\texpect(memoRuns).toBe(2)\n\t\t\texpect(kid.ageInDogYears).toBe(28)\n\t\t})\n\n\t\tit('cannot support private fields', () => {\n\t\t\texpect(() => {\n\t\t\t\tclass Secretive {\n\t\t\t\t\t@signal #secret = 42\n\n\t\t\t\t\tgetSecret() {\n\t\t\t\t\t\treturn this.#secret\n\t\t\t\t\t}\n\n\t\t\t\t\tsetSecret(v: number) {\n\t\t\t\t\t\tthis.#secret = v\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tSecretive\n\t\t\t}).toThrow(\n\t\t\t\t'@signal cannot signalify #private fields. Use a #private getter/setter or auto accessor instead. F.e. convert `@signal #foo = 0` to `@signal accessor #foo = 0`.',\n\t\t\t)\n\t\t})\n\n\t\tit('supports private auto accessors', () => {\n\t\t\tclass Secretive {\n\t\t\t\t@signal accessor #secret = 42\n\n\t\t\t\tgetSecret() {\n\t\t\t\t\treturn this.#secret\n\t\t\t\t}\n\n\t\t\t\tsetSecret(v: number) {\n\t\t\t\t\tthis.#secret = v\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst s = new Secretive()\n\n\t\t\tlet count = 0\n\t\t\tcreateEffect(() => {\n\t\t\t\tcount++\n\t\t\t\ts.getSecret()\n\t\t\t})\n\n\t\t\texpect(s.getSecret()).toBe(42)\n\t\t\texpect(count).toBe(1)\n\n\t\t\ts.setSecret(100)\n\t\t\texpect(s.getSecret()).toBe(100)\n\t\t\texpect(count).toBe(2)\n\t\t})\n\n\t\tit('supports private getter/setters', () => {\n\t\t\tclass Secretive {\n\t\t\t\t#secret_ = 42\n\n\t\t\t\t@signal get #secret() {\n\t\t\t\t\treturn this.#secret_\n\t\t\t\t}\n\t\t\t\t@signal set #secret(v: number) {\n\t\t\t\t\tthis.#secret_ = v\n\t\t\t\t}\n\n\t\t\t\tgetSecret() {\n\t\t\t\t\treturn this.#secret\n\t\t\t\t}\n\n\t\t\t\tsetSecret(v: number) {\n\t\t\t\t\tthis.#secret = v\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst s = new Secretive()\n\n\t\t\tlet count = 0\n\t\t\tcreateEffect(() => {\n\t\t\t\tcount++\n\t\t\t\ts.getSecret()\n\t\t\t})\n\n\t\t\texpect(s.getSecret()).toBe(42)\n\t\t\texpect(count).toBe(1)\n\n\t\t\ts.setSecret(100)\n\t\t\texpect(s.getSecret()).toBe(100)\n\t\t\texpect(count).toBe(2)\n\t\t})\n\n\t\tdescribe('subclass signal overriding/extending', () => {\n\t\t\tit('supports subclass signal field extending base signal field', () => {\n\t\t\t\tclass Base {\n\t\t\t\t\t@signal val = 1\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t// @ts-ignore this is valid in plain JS, TS complains about using field before initialization\n\t\t\t\t\t@signal override val = this.val + 1 // override field with initial value from base class\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\t\t\t\tlet count = 0\n\t\t\t\tlet val = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tcount++\n\t\t\t\t\tval = s.val\n\t\t\t\t})\n\n\t\t\t\texpect(val).toBe(2)\n\t\t\t\texpect(count).toBe(1)\n\n\t\t\t\ts.val = 5\n\t\t\t\texpect(val).toBe(5)\n\t\t\t\texpect(count).toBe(2)\n\t\t\t})\n\n\t\t\tit('supports subclass signal auto accessor extending base signal auto accessor with super', () => {\n\t\t\t\tclass Base {\n\t\t\t\t\t@signal accessor n = 1\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t@signal override accessor n = super.n + 1 // initialize with initial super value\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tcount++\n\t\t\t\t\ts.n\n\t\t\t\t})\n\n\t\t\t\texpect(s.n).toBe(2)\n\t\t\t\texpect(count).toBe(1)\n\n\t\t\t\ts.n = 7\n\t\t\t\texpect(s.n).toBe(7)\n\t\t\t\texpect(count).toBe(2)\n\t\t\t})\n\n\t\t\tit('supports subclass signal getter/setter extending base signal getter/setter with super', () => {\n\t\t\t\tclass Base {\n\t\t\t\t\t#n = 1\n\t\t\t\t\t@signal get n() {\n\t\t\t\t\t\treturn this.#n\n\t\t\t\t\t}\n\t\t\t\t\t@signal set n(v: number) {\n\t\t\t\t\t\tthis.#n = v\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t@signal override get n() {\n\t\t\t\t\t\treturn super.n + 1 // extend read\n\t\t\t\t\t}\n\t\t\t\t\t@signal override set n(v: number) {\n\t\t\t\t\t\tsuper.n = v + 1 // extend write\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\t\t\t\tlet count = 0\n\t\t\t\tlet last = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tcount++\n\t\t\t\t\tlast = s.n\n\t\t\t\t})\n\n\t\t\t\texpect(last).toBe(1 + 1)\n\t\t\t\texpect(count).toBe(1)\n\n\t\t\t\ts.n = 10\n\t\t\t\texpect(last).toBe(10 + 1 + 1)\n\t\t\t\texpect(count).toBe(2)\n\t\t\t})\n\n\t\t\tit('supports multi-level signal getter/setter extension with super', () => {\n\t\t\t\tlet runs = 0\n\t\t\t\tclass Base {\n\t\t\t\t\t_val = 1\n\t\t\t\t\t@signal get val() {\n\t\t\t\t\t\treturn this._val\n\t\t\t\t\t}\n\t\t\t\t\t@signal set val(v) {\n\t\t\t\t\t\tthis._val = v\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tclass Mid extends Base {\n\t\t\t\t\t@signal override get val() {\n\t\t\t\t\t\treturn super.val + 10\n\t\t\t\t\t}\n\t\t\t\t\t@signal override set val(v) {\n\t\t\t\t\t\tsuper.val = v - 10\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tclass Sub extends Mid {\n\t\t\t\t\t@signal override get val() {\n\t\t\t\t\t\treturn super.val + 100\n\t\t\t\t\t}\n\t\t\t\t\t@signal override set val(v) {\n\t\t\t\t\t\tsuper.val = v - 100\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst o = new Sub()\n\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\truns++\n\t\t\t\t\to.val\n\t\t\t\t})\n\n\t\t\t\texpect(o._val).toBe(1)\n\t\t\t\texpect(o.val).toBe(1 + 10 + 100)\n\t\t\t\texpect(runs).toBe(1)\n\n\t\t\t\to.val = 200\n\t\t\t\texpect(runs).toBe(2)\n\t\t\t\texpect(o._val).toBe(200 - 100 - 10)\n\t\t\t\texpect(o.val).toBe(90 + 10 + 100)\n\t\t\t})\n\n\t\t\tit('supports subclass signal getter/setter overriding base signal getter/setter without super', () => {\n\t\t\t\tclass Base {\n\t\t\t\t\t#v = 1\n\t\t\t\t\t@signal get v() {\n\t\t\t\t\t\treturn this.#v\n\t\t\t\t\t}\n\t\t\t\t\t@signal set v(x: number) {\n\t\t\t\t\t\tthis.#v = x\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t#y = 100\n\t\t\t\t\t@signal override get v() {\n\t\t\t\t\t\treturn this.#y\n\t\t\t\t\t}\n\t\t\t\t\t@signal override set v(x: number) {\n\t\t\t\t\t\tthis.#y = x\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\ts.v\n\t\t\t\t\tcount++\n\t\t\t\t})\n\n\t\t\t\texpect(s.v).toBe(100)\n\t\t\t\texpect(count).toBe(1)\n\n\t\t\t\ts.v = 50\n\t\t\t\texpect(s.v).toBe(50)\n\t\t\t\texpect(count).toBe(2)\n\t\t\t})\n\n\t\t\tit('keeps base class effects operational when subclass overrides signal field', () => {\n\t\t\t\tlet effectRuns = 0\n\t\t\t\tlet val = 0\n\n\t\t\t\tclass Base {\n\t\t\t\t\t@signal val = 1\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tcreateEffect(() => {\n\t\t\t\t\t\t\teffectRuns++\n\t\t\t\t\t\t\tval = this.val\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\texpect(val).toBe(1)\n\t\t\t\t\t\texpect(effectRuns).toBe(1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t@signal override val = 10\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\n\t\t\t\texpect(val).toBe(10)\n\t\t\t\t// 2 because the subclass signal override sets the original\n\t\t\t\t// signal and triggers the base class effect again, otherwise\n\t\t\t\t// the effect would be out of sync with the latest value.\n\t\t\t\texpect(effectRuns).toBe(2)\n\n\t\t\t\ts.val = 20\n\t\t\t\texpect(val).toBe(20)\n\t\t\t\texpect(effectRuns).toBe(3)\n\t\t\t})\n\n\t\t\tit('keeps base class effects operational when subclass overrides signal field, with intermediate decorator', () => {\n\t\t\t\tlet effectRuns = 0\n\t\t\t\tlet val = 0\n\n\t\t\t\tclass Base {\n\t\t\t\t\t@signal val = 1\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tcreateEffect(() => {\n\t\t\t\t\t\t\teffectRuns++\n\t\t\t\t\t\t\tval = this.val\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\texpect(val).toBe(1)\n\t\t\t\t\t\texpect(effectRuns).toBe(1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction someDeco(_: undefined, _context: ClassFieldDecoratorContext) {\n\t\t\t\t\t// no-op\n\t\t\t\t\treturn function (this: any, initialVal: any) {\n\t\t\t\t\t\treturn initialVal - 1\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t@signal\n\t\t\t\t\t@someDeco\n\t\t\t\t\toverride val = 11 // final initial value will be 10\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\n\t\t\t\texpect(val).toBe(10)\n\t\t\t\t// 2 because the subclass signal override sets the original\n\t\t\t\t// signal and triggers the base class effect again, otherwise\n\t\t\t\t// the effect would be out of sync with the latest value.\n\t\t\t\texpect(effectRuns).toBe(2)\n\n\t\t\t\ts.val = 20\n\t\t\t\texpect(val).toBe(20)\n\t\t\t\texpect(effectRuns).toBe(3)\n\t\t\t})\n\n\t\t\tit('keeps base class effects operational when subclass overrides signal auto accessor', () => {\n\t\t\t\tlet effectRuns = 0\n\t\t\t\tlet val = 0\n\n\t\t\t\tclass Base {\n\t\t\t\t\t@signal accessor val = 1\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tcreateEffect(() => {\n\t\t\t\t\t\t\teffectRuns++\n\t\t\t\t\t\t\tval = this.val\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\texpect(val).toBe(1)\n\t\t\t\t\t\texpect(effectRuns).toBe(1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t@signal override accessor val = 10\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\n\t\t\t\t// 2 because the subclass signal override sets the original\n\t\t\t\t// signal and triggers the base class effect again, otherwise\n\t\t\t\t// the effect would be out of sync with the latest value.\n\t\t\t\texpect(effectRuns).toBe(2)\n\t\t\t\texpect(val).toBe(10)\n\n\t\t\t\ts.val = 20\n\t\t\t\texpect(val).toBe(20)\n\t\t\t\texpect(effectRuns).toBe(3)\n\t\t\t})\n\n\t\t\tit('keeps base class effects operational when subclass overrides signal getter/setter', () => {\n\t\t\t\tlet effectRuns = 0\n\t\t\t\tlet val = 0\n\n\t\t\t\tclass Base {\n\t\t\t\t\t__foo = 1\n\n\t\t\t\t\t@signal get val() {\n\t\t\t\t\t\treturn this.__foo\n\t\t\t\t\t}\n\t\t\t\t\t@signal set val(v: number) {\n\t\t\t\t\t\tthis.__foo = v\n\t\t\t\t\t}\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tcreateEffect(() => {\n\t\t\t\t\t\t\teffectRuns++\n\t\t\t\t\t\t\tval = this.val\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\texpect(val).toBe(1)\n\t\t\t\t\t\texpect(effectRuns).toBe(1)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Sub extends Base {\n\t\t\t\t\t@signal override get val() {\n\t\t\t\t\t\treturn super.val\n\t\t\t\t\t}\n\t\t\t\t\t@signal override set val(v: number) {\n\t\t\t\t\t\tsuper.val = v\n\t\t\t\t\t}\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper()\n\t\t\t\t\t\tthis.val = 10\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst s = new Sub()\n\n\t\t\t\t// 2 because the subclass sets the new value in its constructor,\n\t\t\t\t// triggering the base class effect again.\n\t\t\t\texpect(effectRuns).toBe(2)\n\t\t\t\texpect(val).toBe(10)\n\n\t\t\t\ts.val = 20\n\t\t\t\texpect(val).toBe(20)\n\t\t\t\texpect(effectRuns).toBe(3)\n\t\t\t})\n\t\t})\n\n\t\tdescribe('invalid usage', () => {\n\t\t\tit('throws on static fields', () => {\n\t\t\t\texpect(() => {\n\t\t\t\t\tclass InvalidStatic {\n\t\t\t\t\t\t@signal static val = 1\n\t\t\t\t\t}\n\t\t\t\t\tnew InvalidStatic()\n\t\t\t\t}).toThrow('@signal is not supported on static fields yet.')\n\t\t\t})\n\n\t\t\tit('throws on methods', () => {\n\t\t\t\texpect(() => {\n\t\t\t\t\tclass InvalidMethod {\n\t\t\t\t\t\t// @ts-expect-error type error because method is invalid\n\t\t\t\t\t\t@signal method() {\n\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnew InvalidMethod()\n\t\t\t\t}).toThrow('The @signal decorator is only for use on fields, getters, setters, and auto accessors.')\n\t\t\t})\n\n\t\t\tit('throws on duplicate members', () => {\n\t\t\t\tconst run = () => {\n\t\t\t\t\tclass SuperDuper {\n\t\t\t\t\t\t@signal dupe = 0\n\t\t\t\t\t\t// @ts-expect-error duplicate member\n\t\t\t\t\t\t@signal dupe = 0\n\t\t\t\t\t}\n\n\t\t\t\t\tnew SuperDuper()\n\t\t\t\t}\n\n\t\t\t\t// This one works the same way whether compiling with Babel or\n\t\t\t\t// TypeScript. See the same tests for @memo and @effect.\n\t\t\t\texpect(run).toThrow(\n\t\t\t\t\t'@signal decorated member \"dupe\" has already been signalified. This can happen if there are duplicated class members.',\n\t\t\t\t)\n\t\t\t})\n\t\t})\n\t})\n})\n"],"mappings":"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","ignoreList":[]}