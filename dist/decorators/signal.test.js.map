{"version":3,"file":"signal.test.js","names":["createEffect","testButterflyProps","signal","signalify","describe","_initProto","_init_colors","_init_extra_colors","_init_colors2","_init_extra_colors2","_init_wingSize","_init_extra_wingSize","_initProto2","_init_colors3","_init_extra_colors3","_init_colors4","_init_extra_colors4","_init_wingSize2","_init_extra_wingSize2","_init_colors5","_init_extra_colors5","_init_wingSize3","_init_extra_wingSize3","_init_colors6","_get_colors","_set_colors","_init_extra_colors6","_initProto3","_call_colors","_call_colors2","_initProto4","_initProto5","Butterfly","_applyDecs","e","colors","wingSize","s","it","b","Butterfly2","constructor","Butterfly3","Butterfly4","A","v","Butterfly5","Butterfly6","o","_","#colors","getColors","setColors","testPrivate","Butterfly7","_colors","Base","Butterfly8","count","expect","toBe","ensure","_init_colors7","_init_extra_colors7","Mid","b0","testProp","Object","getOwnPropertyDescriptor","get","call","SubButterfly","args","m","value","SubSubButterfly","b2","k","startVal","newVal","reactive","_initProto6","_init_colors8","_init_extra_colors8","Insect","double","arg","_init_do","_init_extra_do","Doer","do","doer","newFunc","_initProto7","_init_venomous","_init_extra_venomous","_init_legs","_init_extra_legs","venomous","legs","eyes","n","antennas","i","testNoDuplicateSignal","prop"],"sources":["../../src/decorators/signal.test.ts"],"sourcesContent":["import {createEffect} from 'solid-js'\nimport {testButterflyProps} from '../index.test.js'\nimport {signal} from './signal.js'\nimport {signalify} from '../signals/signalify.js'\n\ndescribe('classy-solid', () => {\n\tdescribe('@signal', () => {\n\t\tclass Butterfly {\n\t\t\t@signal colors = 3\n\n\t\t\t#wingSize = 2\n\n\t\t\t@signal get wingSize() {\n\t\t\t\treturn this.#wingSize\n\t\t\t}\n\t\t\t@signal set wingSize(s: number) {\n\t\t\t\tthis.#wingSize = s\n\t\t\t}\n\t\t}\n\n\t\tit('makes class fields reactive, using class and field/getter/setter decorators', () => {\n\t\t\tconst b = new Butterfly()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly2 {\n\t\t\t@signal colors = 3\n\t\t\t@signal wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly2()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly3 {\n\t\t\t@signal colors = 3\n\n\t\t\t#wingSize = 2\n\n\t\t\t@signal get wingSize() {\n\t\t\t\treturn this.#wingSize\n\t\t\t}\n\t\t\t@signal set wingSize(s: number) {\n\t\t\t\tthis.#wingSize = s\n\t\t\t}\n\t\t}\n\n\t\tit('makes class fields reactive, using field/getter/setter decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly3()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly4 {\n\t\t\t@signal colors = 3\n\t\t\t@signal accessor wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field/accessor decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly4()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly5 {\n\t\t\t@signal colors = 3\n\t\t\t@signal accessor wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field/accessor decorators with class decorator', () => {\n\t\t\tconst b = new Butterfly5()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly6 {\n\t\t\t@signal accessor #colors = 3\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.#colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes private class auto accessor reactive', () => {\n\t\t\tconst b = new Butterfly6()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tclass Butterfly7 {\n\t\t\t#_colors = 3\n\n\t\t\t@signal get #colors() {\n\t\t\t\treturn this.#_colors\n\t\t\t}\n\t\t\t@signal set #colors(v: number) {\n\t\t\t\tthis.#_colors = v\n\t\t\t}\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.#colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes private class getter/setter accessors reactive', () => {\n\t\t\tconst b = new Butterfly7()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tclass Base {\n\t\t\t#colors = 3\n\n\t\t\t@signal get colors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\t@signal set colors(v: number) {\n\t\t\t\tthis.#colors = v\n\t\t\t}\n\t\t}\n\n\t\tclass Butterfly8 extends Base {\n\t\t\t#colors = 3\n\n\t\t\t@signal override get colors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\t@signal override set colors(v: number) {\n\t\t\t\tthis.#colors = v\n\t\t\t}\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes overridden class getter/setter accessors reactive', () => {\n\t\t\tconst b = new Butterfly8()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tfunction testPrivate(b: Pick<Butterfly6, 'getColors' | 'setColors'>) {\n\t\t\tlet count = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\tb.getColors()\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(b.getColors()).toBe(3)\n\t\t\texpect(count).toBe(1)\n\n\t\t\tb.setColors(5)\n\t\t\texpect(b.getColors()).toBe(5)\n\t\t\texpect(count).toBe(2)\n\t\t}\n\n\t\tconst ensure = it\n\n\t\tensure('overridden fields work as expected', async () => {\n\t\t\tclass Mid extends Butterfly {\n\t\t\t\toverride colors = 0\n\t\t\t}\n\n\t\t\t// ensure subclass did not interfere with functionality of base class\n\t\t\tconst b0 = new Butterfly()\n\t\t\ttestProp(b0, 'colors', 3, 4, true)\n\t\t\texpect(Object.getOwnPropertyDescriptor(b0, 'colors')?.get?.call(b0) === 4).toBe(true) // accessor descriptor\n\n\t\t\tclass SubButterfly extends Mid {\n\t\t\t\t@signal override colors = 123\n\t\t\t}\n\n\t\t\t// ensure subclass did not interfere with functionality of base class\n\t\t\tconst m = new Mid()\n\t\t\ttestProp(m, 'colors', 0, 1, false)\n\t\t\texpect(Object.getOwnPropertyDescriptor(m, 'colors')?.value === 1).toBe(true) // value descriptor\n\n\t\t\tclass SubSubButterfly extends SubButterfly {\n\t\t\t\toverride colors = 456\n\t\t\t}\n\n\t\t\tconst b = new SubButterfly()\n\t\t\ttestButterflyProps(b, 123)\n\n\t\t\tconst b2 = new SubSubButterfly()\n\n\t\t\ttestProp(b2, 'colors', 456, 654, false)\n\t\t})\n\n\t\tfunction testProp<T extends object>(o: T, k: keyof T, startVal: any, newVal: any, reactive = true) {\n\t\t\tlet count = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\to[k]\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(o[k]).toBe(startVal)\n\t\t\texpect(count).toBe(1)\n\n\t\t\to[k] = newVal // should not be a signal, should not trigger\n\n\t\t\texpect(o[k]).toBe(newVal)\n\t\t\texpect(count).toBe(reactive ? 2 : 1)\n\t\t}\n\n\t\tit('does not prevent superclass constructor from receiving subclass constructor args', () => {\n\t\t\tclass Insect {\n\t\t\t\tconstructor(public double: number) {}\n\t\t\t}\n\n\t\t\tclass Butterfly extends Insect {\n\t\t\t\t@signal colors = 3\n\n\t\t\t\t#wingSize = 2\n\n\t\t\t\t@signal get wingSize() {\n\t\t\t\t\treturn this.#wingSize\n\t\t\t\t}\n\t\t\t\t@signal set wingSize(s: number) {\n\t\t\t\t\tthis.#wingSize = s\n\t\t\t\t}\n\n\t\t\t\tconstructor(arg: number) {\n\t\t\t\t\tsuper(arg * 2)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly(4)\n\n\t\t\texpect(b.double).toBe(8)\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('works with function values', () => {\n\t\t\t// This test ensures that functions are handled propertly, because\n\t\t\t// if passed without being wrapped to a signal setter it will be\n\t\t\t// called immediately with the previous value and be expected to\n\t\t\t// return a new value, instead of being set as the actual new value.\n\n\t\t\tclass Doer {\n\t\t\t\t@signal do: (() => unknown) | null = null\n\t\t\t}\n\n\t\t\tconst doer = new Doer()\n\n\t\t\texpect(doer.do).toBe(null)\n\n\t\t\tconst newFunc = () => 123\n\t\t\tdoer.do = newFunc\n\n\t\t\texpect(doer.do).toBe(newFunc)\n\t\t\texpect(doer.do()).toBe(123)\n\t\t})\n\n\t\tit('prevents duplicate signals for any property', () => {\n\t\t\tclass Insect {\n\t\t\t\t@signal venomous = 0\n\n\t\t\t\t@signal accessor legs = 6\n\n\t\t\t\t#eyes = 10\n\t\t\t\t@signal get eyes() {\n\t\t\t\t\treturn this.#eyes\n\t\t\t\t}\n\t\t\t\t@signal set eyes(n) {\n\t\t\t\t\tthis.#eyes = n\n\t\t\t\t}\n\n\t\t\t\tantennas = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\t// This should not add any extra signals for properties that\n\t\t\t\t\t// are already signalified by the @signal decorator\n\t\t\t\t\tsignalify(this, 'venomous', 'legs', 'eyes', 'antennas')\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst i = new Insect()\n\n\t\t\ttestNoDuplicateSignal(i, 'venomous')\n\t\t\ttestNoDuplicateSignal(i, 'legs')\n\t\t\ttestNoDuplicateSignal(i, 'eyes')\n\t\t\ttestNoDuplicateSignal(i, 'antennas')\n\n\t\t\tfunction testNoDuplicateSignal(o: Insect, prop: keyof Insect) {\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tcount++\n\t\t\t\t\to[prop]\n\t\t\t\t})\n\t\t\t\texpect(count).toBe(1)\n\t\t\t\to[prop]++\n\t\t\t\texpect(count).toBe(2) // it would be 3 if there were an extra signal\n\t\t\t}\n\t\t})\n\t})\n})\n"],"mappings":"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","ignoreList":[]}