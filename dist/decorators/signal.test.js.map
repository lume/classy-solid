{"version":3,"file":"signal.test.js","names":["createEffect","testButterflyProps","reactive","signal","signalify","describe","_initProto","_initClass","_init_colors","_init_extra_colors","_init_colors2","_init_extra_colors2","_init_wingSize","_init_extra_wingSize","_init_finalize","_init_extra_finalize","_initProto2","_init_colors3","_init_extra_colors3","_init_finalize2","_init_extra_finalize2","_init_colors4","_init_extra_colors4","_init_wingSize2","_init_extra_wingSize2","_init_finalize3","_init_extra_finalize3","_initClass2","_init_colors5","_init_extra_colors5","_init_wingSize3","_init_extra_wingSize3","_init_colors6","_get_colors","_set_colors","_init_extra_colors6","_initProto3","_call_colors","_call_colors2","_initProto4","_initProto5","_Butterfly","Butterfly","e","c","_applyDecs","colors","wingSize","s","it","b","Butterfly2","o","finalize","v","_","constructor","Butterfly3","Butterfly4","A","_Butterfly2","Butterfly5","Butterfly6","#colors","getColors","setColors","testPrivate","Butterfly7","_colors","Base","Butterfly8","count","expect","toBe","ensure","_initClass3","_init_colors7","_init_extra_colors7","Mid","b0","testProp","Object","getOwnPropertyDescriptor","get","call","_SubButterfly","SubButterfly","args","m","value","SubSubButterfly","b2","k","startVal","newVal","_Insect2","_initClass4","_initProto6","_initClass5","_init_colors8","_init_extra_colors8","_Insect","Insect","double","_Butterfly3","arg","_init_foo","_init_extra_foo","_initClass6","_init_bar","_init_extra_bar","Foo","foo","_Bar","Bar","bar","toThrow","_initClass7","_init_do","_init_extra_do","_Doer","Doer","do","doer","newFunc","_Foo2","_initClass8","_init_amount","_init_extra_amount","_initClass9","_init_double","_init_extra_double","_Foo","amount","_Bar2","noLoop","not","only","_initProto7","_initClass10","_init_venomous","_init_extra_venomous","_init_legs","_init_extra_legs","_Insect3","venomous","legs","eyes","n","antennas","i","testNoDuplicateSignal","prop"],"sources":["../../src/decorators/signal.test.ts"],"sourcesContent":["import {createEffect} from 'solid-js'\nimport {testButterflyProps} from '../index.test.js'\nimport {reactive} from './reactive.js'\nimport {signal} from './signal.js'\nimport {signalify} from '../signals/signalify.js'\n\ndescribe('classy-solid', () => {\n\tdescribe('@reactive, @signal', () => {\n\t\t@reactive\n\t\tclass Butterfly {\n\t\t\t@signal colors = 3\n\n\t\t\t#wingSize = 2\n\n\t\t\t@signal get wingSize() {\n\t\t\t\treturn this.#wingSize\n\t\t\t}\n\t\t\t@signal set wingSize(s: number) {\n\t\t\t\tthis.#wingSize = s\n\t\t\t}\n\t\t}\n\n\t\tit('makes class fields reactive, using class and field/getter/setter decorators', () => {\n\t\t\tconst b = new Butterfly()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\t// @reactive\n\t\tclass Butterfly2 {\n\t\t\t@signal colors = 3\n\t\t\t@signal wingSize = 2\n\t\t\t// @ts-ignore\n\t\t\t@signal #finalize\n\t\t}\n\n\t\tit('makes class fields reactive, using field decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly2()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly3 {\n\t\t\t@signal colors = 3\n\n\t\t\t#wingSize = 2\n\n\t\t\t@signal get wingSize() {\n\t\t\t\treturn this.#wingSize\n\t\t\t}\n\t\t\t@signal set wingSize(s: number) {\n\t\t\t\tthis.#wingSize = s\n\t\t\t}\n\n\t\t\t// @ts-ignore\n\t\t\t@signal #finalize\n\t\t}\n\n\t\tit('makes class fields reactive, using field/getter/setter decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly3()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly4 {\n\t\t\t@signal colors = 3\n\t\t\t@signal accessor wingSize = 2\n\t\t\t// @ts-ignore\n\t\t\t@signal #finalize\n\t\t}\n\n\t\tit('makes class fields reactive, using field/accessor decorators without class decorator', () => {\n\t\t\tconst b = new Butterfly4()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\t@reactive\n\t\tclass Butterfly5 {\n\t\t\t@signal colors = 3\n\t\t\t@signal accessor wingSize = 2\n\t\t}\n\n\t\tit('makes class fields reactive, using field/accessor decorators with class decorator', () => {\n\t\t\tconst b = new Butterfly5()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tclass Butterfly6 {\n\t\t\t@signal accessor #colors = 3\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.#colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes private class auto accessor reactive', () => {\n\t\t\tconst b = new Butterfly6()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tclass Butterfly7 {\n\t\t\t#_colors = 3\n\n\t\t\t@signal get #colors() {\n\t\t\t\treturn this.#_colors\n\t\t\t}\n\t\t\t@signal set #colors(v: number) {\n\t\t\t\tthis.#_colors = v\n\t\t\t}\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.#colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes private class getter/setter accessors reactive', () => {\n\t\t\tconst b = new Butterfly7()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tclass Base {\n\t\t\t#colors = 3\n\n\t\t\t@signal get colors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\t@signal set colors(v: number) {\n\t\t\t\tthis.#colors = v\n\t\t\t}\n\t\t}\n\n\t\tclass Butterfly8 extends Base {\n\t\t\t#colors = 3\n\n\t\t\t@signal override get colors() {\n\t\t\t\treturn this.#colors\n\t\t\t}\n\t\t\t@signal override set colors(v: number) {\n\t\t\t\tthis.#colors = v\n\t\t\t}\n\n\t\t\tgetColors() {\n\t\t\t\treturn this.colors\n\t\t\t}\n\t\t\tsetColors(v: number) {\n\t\t\t\treturn (this.colors = v)\n\t\t\t}\n\t\t}\n\n\t\tit('makes overridden class getter/setter accessors reactive', () => {\n\t\t\tconst b = new Butterfly8()\n\t\t\ttestPrivate(b)\n\t\t})\n\n\t\tfunction testPrivate(b: Pick<Butterfly6, 'getColors' | 'setColors'>) {\n\t\t\tlet count = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\tb.getColors()\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(b.getColors()).toBe(3)\n\t\t\texpect(count).toBe(1)\n\n\t\t\tb.setColors(5)\n\t\t\texpect(b.getColors()).toBe(5)\n\t\t\texpect(count).toBe(2)\n\t\t}\n\n\t\tconst ensure = it\n\n\t\tensure('overridden fields work as expected', async () => {\n\t\t\tclass Mid extends Butterfly {\n\t\t\t\toverride colors = 0\n\t\t\t}\n\n\t\t\t// ensure subclass did not interfere with functionality of base class\n\t\t\tconst b0 = new Butterfly()\n\t\t\ttestProp(b0, 'colors', 3, 4, true)\n\t\t\texpect(Object.getOwnPropertyDescriptor(b0, 'colors')?.get?.call(b0) === 4).toBe(true) // accessor descriptor\n\n\t\t\t@reactive\n\t\t\tclass SubButterfly extends Mid {\n\t\t\t\t@signal override colors = 123\n\t\t\t}\n\n\t\t\t// ensure subclass did not interfere with functionality of base class\n\t\t\tconst m = new Mid()\n\t\t\ttestProp(m, 'colors', 0, 1, false)\n\t\t\texpect(Object.getOwnPropertyDescriptor(m, 'colors')?.value === 1).toBe(true) // value descriptor\n\n\t\t\tclass SubSubButterfly extends SubButterfly {\n\t\t\t\toverride colors = 456\n\t\t\t}\n\n\t\t\tconst b = new SubButterfly()\n\t\t\ttestButterflyProps(b, 123)\n\n\t\t\tconst b2 = new SubSubButterfly()\n\n\t\t\ttestProp(b2, 'colors', 456, 654, false)\n\t\t})\n\n\t\tfunction testProp<T extends object>(o: T, k: keyof T, startVal: any, newVal: any, reactive = true) {\n\t\t\tlet count = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\to[k]\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(o[k]).toBe(startVal)\n\t\t\texpect(count).toBe(1)\n\n\t\t\to[k] = newVal // should not be a signal, should not trigger\n\n\t\t\texpect(o[k]).toBe(newVal)\n\t\t\texpect(count).toBe(reactive ? 2 : 1)\n\t\t}\n\n\t\tit('does not prevent superclass constructor from receiving subclass constructor args', () => {\n\t\t\t@reactive\n\t\t\tclass Insect {\n\t\t\t\tconstructor(public double: number) {}\n\t\t\t}\n\n\t\t\t@reactive\n\t\t\tclass Butterfly extends Insect {\n\t\t\t\t@signal colors = 3\n\n\t\t\t\t#wingSize = 2\n\n\t\t\t\t@signal get wingSize() {\n\t\t\t\t\treturn this.#wingSize\n\t\t\t\t}\n\t\t\t\t@signal set wingSize(s: number) {\n\t\t\t\t\tthis.#wingSize = s\n\t\t\t\t}\n\n\t\t\t\tconstructor(arg: number) {\n\t\t\t\t\tsuper(arg * 2)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly(4)\n\n\t\t\texpect(b.double).toBe(8)\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('throws an error when @signal is used without @reactive', async () => {\n\t\t\texpect(() => {\n\t\t\t\t// user forgot to use @reactive here\n\t\t\t\tclass Foo {\n\t\t\t\t\t@signal foo = 'hoo'\n\t\t\t\t}\n\n\t\t\t\tFoo\n\n\t\t\t\t@reactive\n\t\t\t\tclass Bar {\n\t\t\t\t\t@signal bar = 123\n\t\t\t\t}\n\n\t\t\t\tnew Bar()\n\t\t\t}).toThrow('Did you forget')\n\n\t\t\t// TODO how to check for an error thrown from a microtask?\n\t\t\t// (window.addEventListener('error') seems not to work)\n\t\t\t//\n\t\t\t// It just won't work, the error seems to never fire here in the\n\t\t\t// tests, but it works fine when testing manually in Chrome.\n\n\t\t\t// const errPromise = new Promise<ErrorEvent>(r => window.addEventListener('error', e => r(e), {once: true}))\n\n\t\t\t// @reactive\n\t\t\t// class Foo {\n\t\t\t// \t@signal foo = 'hoo'\n\t\t\t// }\n\n\t\t\t// Foo\n\n\t\t\t// // user forgot to use @reactive here\n\t\t\t// class Bar {\n\t\t\t// \t@signal bar = 123\n\t\t\t// }\n\n\t\t\t// Bar\n\n\t\t\t// const err = await errPromise\n\n\t\t\t// expect(err.message).toContain('Did you forget')\n\t\t})\n\n\t\tit('works with function values', () => {\n\t\t\t// This test ensures that functions are handled propertly, because\n\t\t\t// if passed without being wrapped to a signal setter it will be\n\t\t\t// called immediately with the previous value and be expected to\n\t\t\t// return a new value, instead of being set as the actual new value.\n\n\t\t\t@reactive\n\t\t\tclass Doer {\n\t\t\t\t@signal do: (() => unknown) | null = null\n\t\t\t}\n\n\t\t\tconst doer = new Doer()\n\n\t\t\texpect(doer.do).toBe(null)\n\n\t\t\tconst newFunc = () => 123\n\t\t\tdoer.do = newFunc\n\n\t\t\texpect(doer.do).toBe(newFunc)\n\t\t\texpect(doer.do()).toBe(123)\n\t\t})\n\n\t\tit('automatically does not track reactivity in constructors when using decorators', () => {\n\t\t\t@reactive\n\t\t\tclass Foo {\n\t\t\t\t@signal amount = 3\n\t\t\t}\n\n\t\t\t@reactive\n\t\t\tclass Bar extends Foo {\n\t\t\t\t@signal double = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tthis.double = this.amount * 2 // this read of .amount should not be tracked\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet b: Bar\n\t\t\tlet count = 0\n\n\t\t\tfunction noLoop() {\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tb = new Bar() // this should not track\n\t\t\t\t\tcount++\n\t\t\t\t})\n\t\t\t}\n\n\t\t\texpect(noLoop).not.toThrow()\n\n\t\t\tconst b2 = b!\n\n\t\t\tb!.amount = 4 // hence this should not trigger\n\n\t\t\t// If the effect ran only once initially, not when setting b.colors,\n\t\t\t// then both variables should reference the same instance\n\t\t\texpect(count).toBe(1)\n\t\t\texpect(b!).toBe(b2)\n\t\t})\n\n\t\tit.only('prevents duplicate signals for any property', () => {\n\t\t\t@reactive\n\t\t\tclass Insect {\n\t\t\t\t@signal venomous = 0\n\n\t\t\t\t@signal accessor legs = 6\n\n\t\t\t\t#eyes = 10\n\t\t\t\t@signal get eyes() {\n\t\t\t\t\treturn this.#eyes\n\t\t\t\t}\n\t\t\t\t@signal set eyes(n) {\n\t\t\t\t\tthis.#eyes = n\n\t\t\t\t}\n\n\t\t\t\tantennas = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\t// This should not add any extra signals for properties that\n\t\t\t\t\t// are already signalified by the @signal decorator\n\t\t\t\t\tsignalify(this, 'venomous', 'legs', 'eyes', 'antennas')\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst i = new Insect()\n\n\t\t\ttestNoDuplicateSignal(i, 'venomous')\n\t\t\ttestNoDuplicateSignal(i, 'legs')\n\t\t\ttestNoDuplicateSignal(i, 'eyes')\n\t\t\ttestNoDuplicateSignal(i, 'antennas')\n\n\t\t\tfunction testNoDuplicateSignal(o: Insect, prop: keyof Insect) {\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tcount++\n\t\t\t\t\to[prop]\n\t\t\t\t})\n\t\t\t\texpect(count).toBe(1)\n\t\t\t\to[prop]++\n\t\t\t\texpect(count).toBe(2) // it would be 3 if there were an extra signal\n\t\t\t}\n\t\t})\n\t})\n})\n"],"mappings":"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","ignoreList":[]}