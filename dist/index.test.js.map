{"version":3,"file":"index.test.js","names":["createComputed","createEffect","createRoot","createSignal","untrack","createMutable","render","html","createSignalObject","reactive","signalify","createSignalFunction","signal","createDeferredEffect","component","describe","it","num","set","expect","get","toBe","setResult","n","count","foo","runCount","stop","_stop","Promise","resolve","_initClass","_init_colors","_initProto","_Butterfly","Butterfly","e","c","_applyDecs","colors","_wingSize","wingSize","s","b","testButterflyProps","_initClass2","_initClass3","_init_colors2","_initProto2","_Insect2","_Insect","Insect","constructor","double","_Butterfly2","arg","b2","prototype","_init_foo","_initClass4","_init_bar","Foo","_Bar","Bar","bar","toThrow","_initClass5","_init_do","_Doer","Doer","do","doer","newFunc","amount","_initClass6","_init_amount","_initClass7","_init_double","_Foo2","_Foo","_Bar2","noLoop","not","_initClass8","onMountCalled","onCleanupCalled","_CoolComp","CoolComp","onMount","onCleanup","template","props","root","document","createElement","body","append","dispose","textContent","remove","_initProto3","args","_initClass9","_init_foo2","_init_bar2","_CoolComp2","a","setA","xit","_initClass10","_init_foo3","_init_bar3","_CoolComp3","o","n1","num3","n3","undefined","num4","bool","b1","bool2","n4","func","fn","n5","func2","fn2","n6","stringOrFunc1","sf1","sf2","sf3","sf6","sf7","sf8","stringOrFunc2","sf9","sf10","sf11","sf12","sf13","sf14","sf15"],"sources":["../src/index.test.ts"],"sourcesContent":["import {createComputed, createEffect, createRoot, createSignal, untrack} from 'solid-js'\nimport {createMutable} from 'solid-js/store'\nimport {render} from 'solid-js/web'\nimport html from 'solid-js/html'\nimport {\n\tcreateSignalObject,\n\treactive,\n\tsignalify,\n\tcreateSignalFunction,\n\tsignal,\n\tcreateDeferredEffect,\n\tcomponent,\n} from './index.js'\n\ndescribe('classy-solid', () => {\n\tdescribe('createSignalObject()', () => {\n\t\tit('has gettable and settable values via .get and .set methods', async () => {\n\t\t\tconst num = createSignalObject(0)\n\n\t\t\t// Set the variable's value by passing a value in.\n\t\t\tnum.set(1)\n\t\t\t// Read the variable's value by calling it with no args.\n\t\t\texpect(num.get()).toBe(1)\n\n\t\t\t// increment example:\n\t\t\tconst setResult = num.set(num.get() + 1)\n\t\t\texpect(num.get()).toBe(2)\n\t\t\texpect(setResult).toBe(2)\n\n\t\t\t// Set with a function that accepts the previous value and returns the next value.\n\t\t\tnum.set(n => n + 1)\n\t\t\texpect(num.get()).toBe(3)\n\t\t})\n\t})\n\n\tdescribe('createSignalFunction()', () => {\n\t\tit('has gettable and settable values via a single overloaded function', async () => {\n\t\t\tconst num = createSignalFunction(0)\n\n\t\t\t// Set the variable's value by passing a value in.\n\t\t\tnum(1)\n\t\t\t// Read the variable's value by calling it with no args.\n\t\t\texpect(num()).toBe(1)\n\n\t\t\t// increment example:\n\t\t\tconst setResult = num(num() + 1)\n\t\t\texpect(num()).toBe(2)\n\t\t\texpect(setResult).toBe(2)\n\n\t\t\t// Set with a function that accepts the previous value and returns the next value.\n\t\t\tnum(n => n + 1)\n\t\t\texpect(num()).toBe(3)\n\t\t})\n\t})\n\n\tdescribe('createDeferredEffect()', () => {\n\t\tit('works', async () => {\n\t\t\tconst count = createSignalFunction(0)\n\t\t\tconst foo = createSignalFunction(0)\n\n\t\t\tlet runCount = 0\n\n\t\t\tconst stop = (() => {\n\t\t\t\tlet stop!: () => void\n\n\t\t\t\tcreateRoot(_stop => {\n\t\t\t\t\tstop = _stop\n\n\t\t\t\t\t// Runs once initially after the current root context just\n\t\t\t\t\t// like createEffect, then any time it re-runs due to a\n\t\t\t\t\t// change in a dependency, the re-run will be deferred in\n\t\t\t\t\t// the next microtask and will run only once (not once per\n\t\t\t\t\t// signal that changed)\n\t\t\t\t\tcreateDeferredEffect(() => {\n\t\t\t\t\t\tcount()\n\t\t\t\t\t\tfoo()\n\t\t\t\t\t\trunCount++\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\treturn stop\n\t\t\t})()\n\n\t\t\t// Queues the effect to run in the next microtask\n\t\t\tcount(1)\n\t\t\tcount(2)\n\t\t\tfoo(3)\n\n\t\t\t// Still 1 because the deferred effect didn't run yet, it will in the next microtask.\n\t\t\texpect(runCount).toBe(1)\n\n\t\t\tawait Promise.resolve()\n\n\t\t\t// It ran only once in the previous microtask (batched), not once per signal write.\n\t\t\texpect(runCount).toBe(2)\n\n\t\t\tcount(3)\n\t\t\tcount(4)\n\t\t\tfoo(5)\n\n\t\t\texpect(runCount).toBe(2)\n\n\t\t\tawait Promise.resolve()\n\n\t\t\texpect(runCount).toBe(3)\n\n\t\t\t// Stops the effect from re-running. It can now be garbage collected.\n\t\t\tstop()\n\n\t\t\tcount(3)\n\t\t\tcount(4)\n\t\t\tfoo(5)\n\n\t\t\texpect(runCount).toBe(3)\n\n\t\t\tawait Promise.resolve()\n\n\t\t\t// Still the same because it was stopped, so it didn't run in the\n\t\t\t// macrotask prior to the await.\n\t\t\texpect(runCount).toBe(3)\n\n\t\t\t// Double check just in case (the wrong implementation would make it\n\t\t\t// skip two microtasks before running).\n\t\t\tawait Promise.resolve()\n\t\t\texpect(runCount).toBe(3)\n\t\t})\n\t})\n\n\tdescribe('@reactive, @signal, and signalify', () => {\n\t\tit('makes class properties reactive, using class and property/accessor decorators', () => {\n\t\t\t@reactive\n\t\t\tclass Butterfly {\n\t\t\t\t@signal colors = 3\n\t\t\t\t_wingSize = 2\n\n\t\t\t\t@signal\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t}\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('does not prevent superclass constructor from receiving subclass constructor args', () => {\n\t\t\t@reactive\n\t\t\tclass Insect {\n\t\t\t\tconstructor(public double: number) {}\n\t\t\t}\n\n\t\t\t@reactive\n\t\t\tclass Butterfly extends Insect {\n\t\t\t\t@signal colors = 3\n\t\t\t\t_wingSize = 2\n\n\t\t\t\t@signal\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t}\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t}\n\n\t\t\t\tconstructor(arg: number) {\n\t\t\t\t\tsuper(arg * 2)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly(4)\n\n\t\t\texpect(b.double).toBe(8)\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('makes class properties reactive, not using any decorators, specified in the constructor', () => {\n\t\t\tclass Butterfly {\n\t\t\t\tcolors = 3\n\t\t\t\t_wingSize = 2\n\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t}\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t}\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly()\n\n\t\t\ttestButterflyProps(b)\n\n\t\t\t// quick type check:\n\t\t\tconst b2 = new Butterfly()\n\t\t\tsignalify(\n\t\t\t\tb2,\n\t\t\t\t'colors',\n\t\t\t\t'wingSize',\n\t\t\t\t// @ts-expect-error \"foo\" is not a property on Butterfly\n\t\t\t\t'foo',\n\t\t\t)\n\t\t})\n\n\t\tit('makes class properties reactive, with signalify in the constructor', () => {\n\t\t\tclass Butterfly {\n\t\t\t\tcolors: number\n\t\t\t\t_wingSize: number\n\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t}\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t}\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tthis.colors = 3\n\t\t\t\t\tthis._wingSize = 2\n\n\t\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst b = new Butterfly()\n\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('works with a function-style class, with signalify in the constructor', () => {\n\t\t\tfunction Butterfly() {\n\t\t\t\t// @ts-ignore\n\t\t\t\tthis.colors = 3\n\t\t\t\t// @ts-ignore\n\t\t\t\tthis._wingSize = 2\n\n\t\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t}\n\n\t\t\tButterfly.prototype = {\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t},\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t},\n\t\t\t}\n\n\t\t\t// @ts-ignore\n\t\t\tconst b = new Butterfly()\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('works with a function-style class, with properties on the prototype, and signalify in constructor', () => {\n\t\t\tfunction Butterfly() {\n\t\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t}\n\n\t\t\tButterfly.prototype = {\n\t\t\t\tcolors: 3,\n\t\t\t\t_wingSize: 2,\n\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t},\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t},\n\t\t\t}\n\n\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\tconst b = new Butterfly()\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('can be used on a function-style class, with properties on the prototype, and signalify on the prototype', () => {\n\t\t\tfunction Butterfly() {}\n\n\t\t\tButterfly.prototype = {\n\t\t\t\tcolors: 3,\n\t\t\t\t_wingSize: 2,\n\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t},\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsignalify(Butterfly.prototype, 'colors', 'wingSize')\n\n\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\tconst b = new Butterfly()\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('can be used on a function-style class, with properties in the constructor, and signalify on the prototype', () => {\n\t\t\tfunction Butterfly() {\n\t\t\t\t// @ts-ignore\n\t\t\t\tthis.colors = 3\n\t\t\t\t// @ts-ignore\n\t\t\t\tthis._wingSize = 2\n\t\t\t}\n\n\t\t\tButterfly.prototype = {\n\t\t\t\tget wingSize() {\n\t\t\t\t\treturn this._wingSize\n\t\t\t\t},\n\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\tthis._wingSize = s\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tsignalify(Butterfly.prototype, 'colors', 'wingSize')\n\n\t\t\t// @ts-ignore\n\t\t\tconst b = new Butterfly()\n\t\t\ttestButterflyProps(b)\n\t\t})\n\n\t\tit('throws an error when @signal is used without @reactive', async () => {\n\t\t\texpect(() => {\n\t\t\t\t// user forgot to use @reactive here\n\t\t\t\tclass Foo {\n\t\t\t\t\t@signal foo = 'hoo'\n\t\t\t\t}\n\n\t\t\t\tFoo\n\n\t\t\t\t@reactive\n\t\t\t\tclass Bar {\n\t\t\t\t\t@signal bar = 123\n\t\t\t\t}\n\n\t\t\t\tnew Bar()\n\t\t\t}).toThrow('Did you forget')\n\n\t\t\t// TODO how to check for an error thrown from a microtask?\n\t\t\t// (window.addEventListener('error') seems not to work)\n\t\t\t//\n\t\t\t// It just won't work, the error seems to never fire here in the\n\t\t\t// tests, but it works fine when testing manually in Chrome.\n\n\t\t\t// const errPromise = new Promise<ErrorEvent>(r => window.addEventListener('error', e => r(e), {once: true}))\n\n\t\t\t// @reactive\n\t\t\t// class Foo {\n\t\t\t// \t@signal foo = 'hoo'\n\t\t\t// }\n\n\t\t\t// Foo\n\n\t\t\t// // user forgot to use @reactive here\n\t\t\t// class Bar {\n\t\t\t// \t@signal bar = 123\n\t\t\t// }\n\n\t\t\t// Bar\n\n\t\t\t// const err = await errPromise\n\n\t\t\t// expect(err.message).toContain('Did you forget')\n\t\t})\n\n\t\tit('works with function values', () => {\n\t\t\t// This test ensures that functions are handled propertly, because\n\t\t\t// if passed without being wrapped to a signal setter it will be\n\t\t\t// called immediately with the previous value and be expected to\n\t\t\t// return a new value, instead of being set as the actual new value.\n\n\t\t\t@reactive\n\t\t\tclass Doer {\n\t\t\t\t@signal do: (() => unknown) | null = null\n\t\t\t}\n\n\t\t\tconst doer = new Doer()\n\n\t\t\texpect(doer.do).toBe(null)\n\n\t\t\tconst newFunc = () => 123\n\t\t\tdoer.do = newFunc\n\n\t\t\texpect(doer.do).toBe(newFunc)\n\t\t\texpect(doer.do()).toBe(123)\n\t\t})\n\n\t\tit('show that signalify causes constructor to be reactive when used manually instead of decorators', () => {\n\t\t\tclass Foo {\n\t\t\t\tamount = 3\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsignalify(this, 'amount')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclass Bar extends Foo {\n\t\t\t\tdouble = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tsignalify(this, 'double')\n\t\t\t\t\tthis.double = this.amount * 2 // this tracks access of .amount\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet count = 0\n\t\t\tlet b!: Bar\n\n\t\t\tcreateEffect(() => {\n\t\t\t\tb = new Bar() // tracks .amount\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(count).toBe(1)\n\n\t\t\tb.amount = 4 // triggers\n\n\t\t\texpect(count).toBe(2)\n\t\t})\n\n\t\tit('show how to manually untrack constructors when not using decorators', () => {\n\t\t\tclass Foo {\n\t\t\t\tamount = 3\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsignalify(this, 'amount')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclass Bar extends Foo {\n\t\t\t\tdouble = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tsignalify(this, 'double')\n\n\t\t\t\t\tuntrack(() => {\n\t\t\t\t\t\tthis.double = this.amount * 2\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet count = 0\n\t\t\tlet b!: Bar\n\n\t\t\tcreateEffect(() => {\n\t\t\t\tb = new Bar() // does not track .amount\n\t\t\t\tcount++\n\t\t\t})\n\n\t\t\texpect(count).toBe(1)\n\n\t\t\tb.amount = 4 // will not trigger\n\n\t\t\texpect(count).toBe(1)\n\t\t})\n\n\t\tit('automatically does not track reactivity in constructors when using decorators', () => {\n\t\t\t@reactive\n\t\t\tclass Foo {\n\t\t\t\t@signal amount = 3\n\t\t\t}\n\n\t\t\t@reactive\n\t\t\tclass Bar extends Foo {\n\t\t\t\t@signal double = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tthis.double = this.amount * 2 // this read of .amount should not be tracked\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet b: Bar\n\t\t\tlet count = 0\n\n\t\t\tfunction noLoop() {\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tb = new Bar() // this should not track\n\t\t\t\t\tcount++\n\t\t\t\t})\n\t\t\t}\n\n\t\t\texpect(noLoop).not.toThrow()\n\n\t\t\tconst b2 = b!\n\n\t\t\tb!.amount = 4 // hence this should not trigger\n\n\t\t\t// If the effect ran only once initially, not when setting b.colors,\n\t\t\t// then both variables should reference the same instance\n\t\t\texpect(b!).toBe(b2)\n\t\t\texpect(count).toBe(1)\n\t\t})\n\t})\n\n\tdescribe('@component', () => {\n\t\tit('allows to define a class using class syntax', () => {\n\t\t\tlet onMountCalled = false\n\t\t\tlet onCleanupCalled = false\n\n\t\t\t@component\n\t\t\tclass CoolComp {\n\t\t\t\tonMount() {\n\t\t\t\t\tonMountCalled = true\n\t\t\t\t}\n\n\t\t\t\tonCleanup() {\n\t\t\t\t\tonCleanupCalled = true\n\t\t\t\t}\n\n\t\t\t\ttemplate(props: any) {\n\t\t\t\t\texpect(props.foo).toBe(123)\n\t\t\t\t\treturn html`<div>hello classes!</div>`\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst root = document.createElement('div')\n\t\t\tdocument.body.append(root)\n\n\t\t\tconst dispose = render(() => html`<${CoolComp} foo=${123} />`, root)\n\n\t\t\texpect(root.textContent).toBe('hello classes!')\n\t\t\texpect(onMountCalled).toBe(true)\n\t\t\texpect(onCleanupCalled).toBe(false)\n\n\t\t\tdispose()\n\t\t\troot.remove()\n\n\t\t\texpect(onCleanupCalled).toBe(true)\n\n\t\t\t// throws on non-class use\n\t\t\texpect(() => {\n\t\t\t\tclass CoolComp {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t@component\n\t\t\t\t\tonMount() {}\n\t\t\t\t}\n\t\t\t\tCoolComp\n\t\t\t}).toThrow('component decorator should only be used on a class')\n\t\t})\n\n\t\tit('works in tandem with @reactive and @signal for reactivity', async () => {\n\t\t\t@component\n\t\t\t@reactive\n\t\t\tclass CoolComp {\n\t\t\t\t@signal foo = 0\n\t\t\t\t@signal bar = 0\n\n\t\t\t\ttemplate() {\n\t\t\t\t\treturn html`<div>foo: ${() => this.foo}, bar: ${() => this.bar}</div>`\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst root = document.createElement('div')\n\t\t\tdocument.body.append(root)\n\n\t\t\tconst [a, setA] = createSignal(1)\n\t\t\tconst b = createSignalFunction(2)\n\n\t\t\t// FIXME Why do we need `() => b()` instead of just `b` here? Does `html`\n\t\t\t// check the `length` of the function and do something based on\n\t\t\t// that? Or does it get passed to a @signal property's setter and\n\t\t\t// receives the previous value?\n\t\t\tconst dispose = render(() => html`<${CoolComp} foo=${a} bar=${() => b()} />`, root)\n\n\t\t\texpect(root.textContent).toBe('foo: 1, bar: 2')\n\n\t\t\tsetA(3)\n\t\t\tb(4)\n\n\t\t\texpect(root.textContent).toBe('foo: 3, bar: 4')\n\n\t\t\tdispose()\n\t\t\troot.remove()\n\t\t})\n\n\t\tit('works without decorators', () => {\n\t\t\tconst CoolComp = component(\n\t\t\t\tclass CoolComp {\n\t\t\t\t\tfoo = 0\n\t\t\t\t\tbar = 0\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsignalify(this)\n\t\t\t\t\t}\n\n\t\t\t\t\ttemplate() {\n\t\t\t\t\t\treturn html`<div>foo: ${() => this.foo}, bar: ${() => this.bar}</div>`\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t)\n\n\t\t\tconst root = document.createElement('div')\n\t\t\tdocument.body.append(root)\n\n\t\t\tconst [a, setA] = createSignal(1)\n\t\t\tconst b = createSignalFunction(2)\n\n\t\t\t// FIXME Why do we need `() => b()` instead of just `b` here? Does `html`\n\t\t\t// check the `length` of the function and do something based on\n\t\t\t// that? Or does it get passed to a @signal property's setter and\n\t\t\t// receives the previous value?\n\t\t\tconst dispose = render(() => html`<${CoolComp} foo=${a} bar=${() => b()} />`, root)\n\n\t\t\texpect(root.textContent).toBe('foo: 1, bar: 2')\n\n\t\t\tsetA(3)\n\t\t\tb(4)\n\n\t\t\texpect(root.textContent).toBe('foo: 3, bar: 4')\n\n\t\t\tdispose()\n\t\t\troot.remove()\n\t\t})\n\n\t\t// FIXME not working, the spread doesn't seem to do anything.\n\t\txit('works with reactive spreads', async () => {\n\t\t\t@component\n\t\t\t@reactive\n\t\t\tclass CoolComp {\n\t\t\t\t@signal foo = 0\n\t\t\t\t@signal bar = 0\n\n\t\t\t\ttemplate() {\n\t\t\t\t\treturn html`<div>foo: ${() => this.foo}, bar: ${() => this.bar}</div>`\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst root = document.createElement('div')\n\t\t\tdocument.body.append(root)\n\n\t\t\tlet o = createMutable<any>({o: {foo: 123}})\n\n\t\t\t// neither of these work\n\t\t\t// const dispose = render(() => html`<${CoolComp} ...${() => o.o} />`, root)\n\t\t\tconst dispose = render(() => html`<${CoolComp} ...${o.o} />`, root)\n\n\t\t\texpect(root.textContent).toBe('foo: 123, bar: 0')\n\n\t\t\to.o = {bar: 456}\n\n\t\t\texpect(root.textContent).toBe('foo: 123, bar: 456')\n\n\t\t\tdispose()\n\t\t\troot.remove()\n\t\t})\n\t})\n})\n\nfunction testButterflyProps(b: {colors: number; wingSize: number; _wingSize: number}) {\n\tlet count = 0\n\n\tcreateRoot(() => {\n\t\tcreateComputed(() => {\n\t\t\tb.colors\n\t\t\tb.wingSize\n\t\t\tcount++\n\t\t})\n\t})\n\n\texpect(b.colors).toBe(3, 'initial colors value')\n\texpect(b.wingSize).toBe(2, 'initial wingSize value')\n\texpect(b._wingSize).toBe(2, 'ensure the original accessor works')\n\texpect(count).toBe(1, 'Should be reactive')\n\n\tb.colors++\n\n\texpect(b.colors).toBe(4, 'incremented colors value')\n\texpect(count).toBe(2, 'Should be reactive')\n\n\tb.wingSize++\n\n\texpect(b.wingSize).toBe(3, 'incremented wingSize value')\n\texpect(b._wingSize).toBe(3, 'ensure the original accessor works')\n\texpect(count).toBe(3, 'Should be reactive')\n}\n\n//////////////////////////////////////////////////////////////////////////\n// createSignalObject type tests ///////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////\n\n{\n\tconst num = createSignalObject(1)\n\tlet n1: number = num.get()\n\tn1\n\tnum.set(123)\n\tnum.set(n => (n1 = n + 1))\n\t// @ts-expect-error Expected 1 arguments, but got 0. ts(2554)\n\tnum.set()\n\n\tconst num3 = createSignalObject<number>()\n\t// @ts-expect-error   Type 'undefined' is not assignable to type 'number'. ts(2322)\n\tlet n3: number = num3.get()\n\tnum3.set(123)\n\tnum3.set(undefined) // ok, accepts undefined\n\t// @ts-expect-error Object is possibly 'undefined'. ts(2532) (the `n` value)\n\tnum3.set(n => (n3 = n + 1))\n\t// num3.set() // ok, accepts undefined // FIXME broke in Solid 1.7.9\n\n\t// @ts-expect-error Argument of type 'boolean' is not assignable to parameter of type 'number'. ts(2345)\n\tconst num4 = createSignalObject<number>(true)\n\n\tconst bool = createSignalObject(true)\n\tlet b1: boolean = bool.get()\n\tb1\n\tbool.set(false)\n\tbool.set(b => (b1 = !b))\n\t// @ts-expect-error Expected 1 arguments, but got 0. ts(2554)\n\tbool.set()\n\n\tconst bool2 = createSignalObject<boolean>()\n\t// @ts-expect-error   Type 'undefined' is not assignable to type 'number'. ts(2322)\n\tlet n4: boolean = bool2.get()\n\tbool2.set(false)\n\tbool2.set(undefined) // ok, accepts undefined\n\tbool2.set(n => (n4 = !n)) // ok because undefined is being converted to boolean\n\t// @ts-expect-error Type 'boolean | undefined' is not assignable to type 'boolean'. ts(2322)\n\tbool2.set(n => (n4 = n))\n\t// bool2.set() // ok, accepts undefined // FIXME try Solid 1.7.9\n\n\tconst func = createSignalObject(() => 1)\n\t// @ts-expect-error 1 is not assignable to function (no overload matches)\n\tfunc.set(() => 1)\n\tfunc.set(() => (): 1 => 1) // ok, set the value to a function\n\tconst fn: () => 1 = func.get() // ok, returns function value\n\tfn\n\tconst n5: 1 = func.get()()\n\tn5\n\n\tconst func2 = createSignalObject<() => number>(() => 1)\n\t// @FIXME-ts-expect-error number is not assignable to function (no overload matches)\n\tfunc2.set(() => 1) // FIXME should be a type error. Try Solid 1.7.9\n\tfunc2.set(() => () => 1) // ok, set the value to a function\n\tconst fn2: () => number = func2.get() // ok, returns function value\n\tfn2\n\tconst n6: number = func2.get()()\n\tn6\n\n\tconst stringOrFunc1 = createSignalObject<(() => number) | string>('')\n\t// @FIXME-ts-expect-error number not assignable to string | (()=>number) | undefined\n\tstringOrFunc1.set(() => 1) // FIXME should be a type error. Try Solid 1.7.9\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf1: () => number = stringOrFunc1.set(() => () => 1)\n\tsf1\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf2: string = stringOrFunc1.set('oh yeah')\n\tsf2\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf3: string = stringOrFunc1.set(() => 'oh yeah')\n\tsf3\n\t// @ts-expect-error cannot set signal to undefined\n\tstringOrFunc1.set()\n\t// @ts-expect-error cannot set signal to undefined\n\tstringOrFunc1.set(undefined)\n\t// @ts-expect-error return value might be string\n\tconst sf6: () => number = stringOrFunc1.get()\n\tsf6\n\tconst sf7: (() => number) | string | undefined = stringOrFunc1.get()\n\tsf7\n\tconst sf8: (() => number) | string = stringOrFunc1.get()\n\tsf8\n\n\tconst stringOrFunc2 = createSignalObject<(() => number) | string>()\n\t// @FIXME-ts-expect-error number not assignable to string | (()=>number) | undefined\n\tstringOrFunc2.set(() => 1) // FIXME should be a type error. Try Solid 1.7.9\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf9: () => number = stringOrFunc2.set(() => () => 1)\n\tsf9\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf10: string = stringOrFunc2.set('oh yeah')\n\tsf10\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf11: string = stringOrFunc2.set(() => 'oh yeah')\n\tsf11\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf12: undefined = stringOrFunc2.set()\n\tsf12\n\t// @ts-expect-error FIXME try Solid 1.7.9\n\tconst sf13: undefined = stringOrFunc2.set(undefined)\n\tsf13\n\tconst sf14: (() => number) | string | undefined = stringOrFunc2.get()\n\tsf14\n\t// @ts-expect-error return value might be undefined\n\tconst sf15: (() => number) | string = stringOrFunc2.get()\n\tsf15\n}\n\n//////////////////////////////////////////////////////////////////////////\n// createSignalFunction type tests ///////////////////////////////////////\n//////////////////////////////////////////////////////////////////////////\n\n{\n\tconst num = createSignalFunction(1)\n\tlet n1: number = num()\n\tn1\n\tnum(123)\n\tnum(n => (n1 = n + 1))\n\tnum()\n\n\tconst num3 = createSignalFunction<number>()\n\t// @ts-expect-error   Type 'undefined' is not assignable to type 'number'. ts(2322)\n\tlet n3: number = num3()\n\tnum3(123)\n\tnum3(undefined) // ok, accepts undefined\n\t// @ts-expect-error Object is possibly 'undefined'. ts(2532) (the `n` value)\n\tnum3(n => (n3 = n + 1))\n\tnum3() // ok, getter\n\n\t// @ts-expect-error Argument of type 'boolean' is not assignable to parameter of type 'number'. ts(2345)\n\tconst num4 = createSignalFunction<number>(true)\n\n\tconst bool = createSignalFunction(true)\n\tlet b1: boolean = bool()\n\tb1\n\tbool(false)\n\tbool(b => (b1 = !b))\n\tbool()\n\n\tconst bool2 = createSignalFunction<boolean>()\n\t// @ts-expect-error   Type 'undefined' is not assignable to type 'number'. ts(2322)\n\tlet n4: boolean = bool2()\n\tbool2(false)\n\tbool2(undefined) // ok, accepts undefined\n\tbool2(n => (n4 = !n)) // ok because undefined is being converted to boolean\n\t// @ts-expect-error Type 'boolean | undefined' is not assignable to type 'boolean'. ts(2322)\n\tbool2(n => (n4 = n))\n\tbool2() // ok, accepts undefined\n\n\tconst func = createSignalFunction(() => 1)\n\t// @ts-expect-error 1 is not assignable to function (no overload matches)\n\tfunc(() => 1)\n\tfunc(() => (): 1 => 1) // ok, set the value to a function\n\tconst fn: () => 1 = func() // ok, returns function value\n\tfn\n\tconst n5: 1 = func()()\n\tn5\n\n\tconst func2 = createSignalFunction<() => number>(() => 1)\n\t// @ts-expect-error number is not assignable to function (no overload matches)\n\tfunc2(() => 1)\n\tfunc2(() => () => 1) // ok, set the value to a function\n\tconst fn2: () => number = func2() // ok, returns function value\n\tfn2\n\tconst n6: number = func2()()\n\tn6\n\n\tconst stringOrFunc1 = createSignalFunction<(() => number) | string>('')\n\t// @ts-expect-error number not assignable to string | (()=>number) | undefined\n\tstringOrFunc1(() => 1)\n\tconst sf1: () => number = stringOrFunc1(() => () => 1)\n\tsf1\n\tconst sf2: string = stringOrFunc1('oh yeah')\n\tsf2\n\tconst sf3: string = stringOrFunc1(() => 'oh yeah')\n\tsf3\n\tstringOrFunc1() // ok, getter\n\t// @ts-expect-error cannot set signal to undefined\n\tstringOrFunc1(undefined)\n\t// @ts-expect-error return value might be string\n\tconst sf6: () => number = stringOrFunc1()\n\tsf6\n\tconst sf7: (() => number) | string | undefined = stringOrFunc1()\n\tsf7\n\tconst sf8: (() => number) | string = stringOrFunc1()\n\tsf8\n\n\tconst stringOrFunc2 = createSignalFunction<(() => number) | string>()\n\t// @ts-expect-error number not assignable to string | (()=>number) | undefined\n\tstringOrFunc2(() => 1)\n\tconst sf9: () => number = stringOrFunc2(() => () => 1)\n\tsf9\n\tconst sf10: string = stringOrFunc2('oh yeah')\n\tsf10\n\tconst sf11: string = stringOrFunc2(() => 'oh yeah')\n\tsf11\n\t// @ts-expect-error 'string | (() => number) | undefined' is not assignable to type 'undefined'.\n\tconst sf12: undefined = stringOrFunc2()\n\tsf12\n\tconst sf13: undefined = stringOrFunc2(undefined)\n\tsf13\n\tconst sf14: (() => number) | string | undefined = stringOrFunc2()\n\tsf14\n\t// @ts-expect-error return value might be undefined\n\tconst sf15: (() => number) | string = stringOrFunc2()\n\tsf15\n}\n"],"mappings":"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"}