{"version":3,"file":"Effectful.test.js","names":["createSignal","Effectful","Effects","signal","testElementEffects","effect","describe","last","runs","it","s","setS","e","createEffect","testEffects","stopEffects","addEffectFn","expect","toBe","startEffects","_initProto","TestEffects","_applyDecs","constructor","args","autoStartEffects","testEffect","clearEffects","_init_a","_init_extra_a","MyEffects","double","a","me","_Effectful","_init_baseSignal","_init_extra_baseSignal","_init_derivedSignal","_init_extra_derivedSignal","Base","Object","baseSignal","baseValue","Derived","derivedSignal","derivedValue","d","MyEffectful","setA","b","setB","outerRuns","innerRuns","outer","inner","toThrow","el","document","createElement","result"],"sources":["../../src/mixins/Effectful.test.ts"],"sourcesContent":["import {createSignal, type Accessor, type Setter} from 'solid-js'\nimport {Effectful, Effects} from './Effectful.js'\nimport {signal} from '../decorators/signal.js'\nimport {MyElement, MyElement2, MyElement3, testElementEffects} from '../index.test.js'\nimport {effect} from '../decorators/effect.js'\n\ndescribe('classy-solid', () => {\n\tdescribe('Effectful mixin / Effects', () => {\n\t\tlet last: number | null = null\n\t\tlet runs = 0\n\n\t\tit('createEffect runs immediately, stopEffects stops further runs, startEffects runs effects again', () => {\n\t\t\tlast = null\n\t\t\truns = 0\n\n\t\t\tconst [s, setS] = createSignal(1)\n\t\t\tconst e = new Effects()\n\n\t\t\te.createEffect(() => {\n\t\t\t\truns++\n\t\t\t\tlast = s()\n\t\t\t})\n\n\t\t\ttestEffects(e, s, setS)\n\t\t})\n\n\t\tit('effects stopped initially with .stopEffects()', () => {\n\t\t\tlast = null\n\t\t\truns = 0\n\n\t\t\tconst [s, setS] = createSignal(1)\n\t\t\tconst e = new Effects()\n\t\t\te.stopEffects() // stop immediately after creation\n\n\t\t\t// does not auto start\n\t\t\te.addEffectFn(() => {\n\t\t\t\truns++\n\t\t\t\tlast = s()\n\t\t\t})\n\n\t\t\texpect(last).toBe(null)\n\t\t\texpect(runs).toBe(0)\n\n\t\t\te.startEffects() // now start effects\n\n\t\t\ttestEffects(e, s, setS)\n\t\t})\n\n\t\tit('effects stopped initially with static autoStartEffects = false', () => {\n\t\t\tlast = null\n\t\t\truns = 0\n\n\t\t\tclass TestEffects extends Effects {\n\t\t\t\tstatic autoStartEffects = false\n\n\t\t\t\t@effect testEffect() {\n\t\t\t\t\truns++\n\t\t\t\t\tlast = s()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst [s, setS] = createSignal(1)\n\t\t\tconst e = new TestEffects() // effects stopped initially\n\n\t\t\texpect(last).toBe(null)\n\t\t\texpect(runs).toBe(0)\n\n\t\t\te.startEffects() // now start effects\n\n\t\t\ttestEffects(e, s, setS)\n\t\t})\n\n\t\tfunction testEffects(e: Effects, s: Accessor<number>, setS: Setter<number>) {\n\t\t\texpect(last).toBe(1)\n\t\t\texpect(runs).toBe(1)\n\n\t\t\tsetS(2)\n\t\t\texpect(last).toBe(2)\n\t\t\texpect(runs).toBe(2)\n\n\t\t\t// later, stop effects when done (f.e. when custom element disconnected from DOM)...\n\n\t\t\te.stopEffects()\n\t\t\tsetS(3)\n\t\t\texpect(last).toBe(2)\n\t\t\texpect(runs).toBe(2)\n\n\t\t\t// later, start effects again (f.e. when custom element reconnected to DOM)...\n\n\t\t\te.startEffects()\n\t\t\texpect(last).toBe(3)\n\t\t\texpect(runs).toBe(3)\n\n\t\t\tsetS(4)\n\t\t\texpect(last).toBe(4)\n\t\t\texpect(runs).toBe(4)\n\n\t\t\t// Clear all effects.\n\t\t\te.clearEffects()\n\t\t\tsetS(5)\n\t\t\texpect(last).toBe(4)\n\t\t\texpect(runs).toBe(4)\n\n\t\t\te.startEffects() // no effects to start\n\t\t\texpect(last).toBe(4)\n\t\t\texpect(runs).toBe(4)\n\t\t\tsetS(6)\n\t\t\texpect(last).toBe(4)\n\t\t\texpect(runs).toBe(4)\n\n\t\t\t// Add a new effect after clearing previous ones\n\n\t\t\t// auto starts\n\t\t\te.createEffect(() => {\n\t\t\t\truns++\n\t\t\t\tlast = s()\n\t\t\t})\n\t\t\texpect(last).toBe(6)\n\t\t\texpect(runs).toBe(5)\n\n\t\t\tsetS(7)\n\t\t\texpect(last).toBe(7)\n\t\t\texpect(runs).toBe(6)\n\t\t}\n\n\t\tit('startEffects does not duplicate effects', () => {\n\t\t\tconst [s, setS] = createSignal(1)\n\t\t\tconst e = new Effects()\n\n\t\t\tlet runs = 0\n\t\t\te.createEffect(() => {\n\t\t\t\truns++\n\t\t\t\ts()\n\t\t\t})\n\n\t\t\texpect(runs).toBe(1)\n\n\t\t\te.startEffects() // should not duplicate effects\n\n\t\t\tsetS(2)\n\t\t\texpect(runs).toBe(2)\n\t\t})\n\n\t\tit('clearEffects prevents effects from restarting', () => {\n\t\t\tconst [s, setS] = createSignal(1)\n\t\t\tconst e = new Effects()\n\n\t\t\tlet runs = 0\n\t\t\te.createEffect(() => {\n\t\t\t\truns++\n\t\t\t\ts()\n\t\t\t})\n\n\t\t\texpect(runs).toBe(1)\n\n\t\t\te.clearEffects()\n\n\t\t\tsetS(2)\n\t\t\texpect(runs).toBe(1)\n\n\t\t\te.startEffects() // should not restart any effects\n\n\t\t\tsetS(3)\n\t\t\texpect(runs).toBe(1)\n\t\t})\n\n\t\tit('can be extended from', () => {\n\t\t\tclass MyEffects extends Effects {\n\t\t\t\tdouble = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tthis.createEffect(() => {\n\t\t\t\t\t\tthis.double = this.a * 2\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t@signal a = 1\n\t\t\t}\n\n\t\t\tconst me = new MyEffects()\n\t\t\texpect(me.double).toBe(2)\n\n\t\t\tme.a = 5\n\t\t\texpect(me.double).toBe(10)\n\n\t\t\tme.stopEffects()\n\t\t\tme.a = 10\n\t\t\texpect(me.double).toBe(10)\n\n\t\t\tme.startEffects()\n\t\t\texpect(me.double).toBe(20)\n\t\t})\n\n\t\tit('works with multiple Effectful-derived classes', () => {\n\t\t\tclass Base extends Effectful(Object) {\n\t\t\t\t@signal baseSignal = 1\n\t\t\t\tbaseValue = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tthis.createEffect(() => {\n\t\t\t\t\t\tthis.baseValue = this.baseSignal * 10\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclass Derived extends Base {\n\t\t\t\t@signal derivedSignal = 2\n\t\t\t\tderivedValue = 0\n\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper()\n\t\t\t\t\tthis.createEffect(() => {\n\t\t\t\t\t\tthis.derivedValue = this.derivedSignal * 100\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst d = new Derived()\n\t\t\texpect(d.baseValue).toBe(10)\n\t\t\texpect(d.derivedValue).toBe(200)\n\n\t\t\td.baseSignal = 3\n\t\t\texpect(d.baseValue).toBe(30)\n\n\t\t\td.derivedSignal = 4\n\t\t\texpect(d.derivedValue).toBe(400)\n\n\t\t\td.stopEffects()\n\t\t\td.baseSignal = 5\n\t\t\td.derivedSignal = 6\n\t\t\texpect(d.baseValue).toBe(30)\n\t\t\texpect(d.derivedValue).toBe(400)\n\n\t\t\td.startEffects()\n\t\t\texpect(d.baseValue).toBe(50)\n\t\t\texpect(d.derivedValue).toBe(600)\n\t\t})\n\n\t\tit('supports instanceof checks', () => {\n\t\t\tclass MyEffectful extends Effectful(Object) {}\n\n\t\t\tconst me = new MyEffectful()\n\t\t\texpect(me instanceof Effectful).toBe(true)\n\t\t\texpect(me instanceof MyEffectful).toBe(true)\n\n\t\t\tconst e = new Effects()\n\t\t\texpect(e instanceof Effects).toBe(true)\n\t\t\texpect(e instanceof Effectful).toBe(true)\n\t\t})\n\n\t\tit('allows nested createEffect calls', () => {\n\t\t\tconst [a, setA] = createSignal(0)\n\t\t\tconst [b, setB] = createSignal(0)\n\t\t\tconst e = new Effects()\n\n\t\t\tlet outerRuns = 0\n\t\t\tlet innerRuns = 0\n\n\t\t\te.createEffect(function outer() {\n\t\t\t\touterRuns++\n\t\t\t\ta()\n\n\t\t\t\te.createEffect(function inner() {\n\t\t\t\t\tinnerRuns++\n\t\t\t\t\tb()\n\t\t\t\t})\n\t\t\t})\n\n\t\t\texpect(outerRuns).toBe(1)\n\t\t\texpect(innerRuns).toBe(1)\n\n\t\t\te.startEffects() // should not duplicate effects (already started)\n\n\t\t\texpect(outerRuns).toBe(1)\n\t\t\texpect(innerRuns).toBe(1)\n\n\t\t\tsetA(1)\n\t\t\texpect(outerRuns).toBe(2)\n\t\t\texpect(innerRuns).toBe(2) // inner effect runs because outer effect re-ran\n\n\t\t\tsetB(1)\n\t\t\texpect(outerRuns).toBe(2)\n\t\t\texpect(innerRuns).toBe(3) // inner effect runs independently\n\n\t\t\te.stopEffects()\n\n\t\t\texpect(outerRuns).toBe(2)\n\t\t\texpect(innerRuns).toBe(3)\n\n\t\t\te.startEffects()\n\n\t\t\texpect(outerRuns).toBe(3)\n\t\t\texpect(innerRuns).toBe(4) // inner effect runs because outer effect re-ran\n\n\t\t\tsetB(2)\n\t\t\texpect(outerRuns).toBe(3)\n\t\t\texpect(innerRuns).toBe(5) // inner effect runs independently\n\t\t})\n\n\t\tdescribe('invalid usages', () => {\n\t\t\tit('prevents multiple Effectful mixin applications', () => {\n\t\t\t\texpect(() => {\n\t\t\t\t\tclass Base extends Effectful(Object) {}\n\t\t\t\t\tclass Derived extends Effectful(Base) {}\n\t\t\t\t\tDerived\n\t\t\t\t}).toThrow('Class already extends Effectful, no need to apply the mixin again.')\n\t\t\t})\n\t\t})\n\n\t\tdescribe('usage with custom elements', () => {\n\t\t\tit('createEffect in connectedCallback, clearEffects in disconnectedCallback', () => {\n\t\t\t\tconst el = document.createElement('my-element') as MyElement\n\t\t\t\texpect(el.result).toBe(0)\n\t\t\t\texpect(el.runs).toBe(0)\n\n\t\t\t\ttestElementEffects(el)\n\t\t\t})\n\n\t\t\tit('createEffect in constructor, startEffects in connectedCallback, stopEffects in disconnectedCallback', () => {\n\t\t\t\tconst el = document.createElement('my-element2') as MyElement2\n\t\t\t\texpect(el.result).toBe(1 + 2)\n\t\t\t\texpect(el.runs).toBe(1) // already ran in constructor\n\n\t\t\t\ttestElementEffects(el)\n\t\t\t})\n\n\t\t\tit('@effect methods, startEffects in connectedCallback, stopEffects in disconnectedCallback', () => {\n\t\t\t\tconst el = document.createElement('my-element3') as MyElement3\n\t\t\t\texpect(el.result).toBe(1 + 2)\n\t\t\t\texpect(el.runs).toBe(1) // already ran in constructor\n\n\t\t\t\ttestElementEffects(el)\n\t\t\t})\n\t\t})\n\t})\n})\n"],"mappings":"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","ignoreList":[]}