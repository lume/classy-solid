{"version":3,"file":"_state.js","names":["isSignalGetter","WeakSet","isMemoGetter","isSorted","typeOrder","__sortSignalsMemosInMetadata","metadata","signalFieldsAndMemos","has","add","sort","a","b","type"],"sources":["../../src/signals/_state.ts"],"sourcesContent":["import type {SignalMetadata} from '../decorators/types.js'\n\nexport const isSignalGetter = new WeakSet<Function>()\nexport const isMemoGetter = new WeakSet<Function>()\n\nconst isSorted = new WeakSet<SignalMetadata>()\n\nconst typeOrder = {'signal-field': 0, 'memo-field': 1, 'memo-auto-accessor': 1, 'memo-accessor': 2, 'memo-method': 2}\n\nexport function __sortSignalsMemosInMetadata(metadata: SignalMetadata) {\n\tif (!metadata.signalFieldsAndMemos) return\n\n\tif (isSorted.has(metadata)) return\n\tisSorted.add(metadata)\n\n\t// Sort so that signal fields come first, then memo fields and\n\t// auto-accessors, finally memo accessors and methods.\n\tmetadata.signalFieldsAndMemos.sort((a, b) => typeOrder[a[1].type] - typeOrder[b[1].type])\n}\n"],"mappings":"AAEA,OAAO,MAAMA,cAAc,GAAG,IAAIC,OAAO,CAAW,CAAC;AACrD,OAAO,MAAMC,YAAY,GAAG,IAAID,OAAO,CAAW,CAAC;AAEnD,MAAME,QAAQ,GAAG,IAAIF,OAAO,CAAiB,CAAC;AAE9C,MAAMG,SAAS,GAAG;EAAC,cAAc,EAAE,CAAC;EAAE,YAAY,EAAE,CAAC;EAAE,oBAAoB,EAAE,CAAC;EAAE,eAAe,EAAE,CAAC;EAAE,aAAa,EAAE;AAAC,CAAC;AAErH,OAAO,SAASC,4BAA4BA,CAACC,QAAwB,EAAE;EACtE,IAAI,CAACA,QAAQ,CAACC,oBAAoB,EAAE;EAEpC,IAAIJ,QAAQ,CAACK,GAAG,CAACF,QAAQ,CAAC,EAAE;EAC5BH,QAAQ,CAACM,GAAG,CAACH,QAAQ,CAAC;;EAEtB;EACA;EACAA,QAAQ,CAACC,oBAAoB,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKR,SAAS,CAACO,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,GAAGT,SAAS,CAACQ,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;AAC1F","ignoreList":[]}