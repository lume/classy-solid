{"version":3,"file":"memoify.test.js","names":["batch","createEffect","signalify","memoify","describe","it","obj","sum","obj2","expect","toBe","a","b","result","Object","getOwnPropertyDescriptor","value","foo","_v","before","get","after","computeCount","lastSum","effectCount","toThrow","_val","Example","sumWritable","ex","lastSumWritable","count","squared","cubed","double","triple","quadruple","doubleCount","tripleCount","quadCount","staticValue"],"sources":["../../src/signals/memoify.test.ts"],"sourcesContent":["import {batch, createEffect} from 'solid-js'\nimport {signalify} from './signalify.js'\nimport {memoify} from './memoify.js'\n\ndescribe('classy-solid', () => {\n\tdescribe('memoify()', () => {\n\t\tit('returns the same object that was passed in', () => {\n\t\t\tconst obj = {\n\t\t\t\tsum() {\n\t\t\t\t\treturn 1\n\t\t\t\t},\n\t\t\t}\n\t\t\tconst obj2 = memoify(obj, 'sum')\n\t\t\texpect(obj).toBe(obj2)\n\t\t})\n\n\t\tit('skips non-function properties in automatic mode', () => {\n\t\t\tconst obj = {a: 1, b: 2}\n\t\t\tconst result = memoify(obj)\n\t\t\texpect(Object.getOwnPropertyDescriptor(result, 'a')?.value).toBe(1)\n\t\t\texpect(Object.getOwnPropertyDescriptor(result, 'b')?.value).toBe(2)\n\t\t})\n\n\t\tit('skips non-function properties in explicit mode', () => {\n\t\t\tconst obj = {a: 1, b: 2}\n\t\t\tconst result = memoify(obj, 'a', 'b')\n\t\t\texpect(Object.getOwnPropertyDescriptor(result, 'a')?.value).toBe(1)\n\t\t\texpect(Object.getOwnPropertyDescriptor(result, 'b')?.value).toBe(2)\n\t\t})\n\n\t\tit('skips properties already memoified or signalified', () => {\n\t\t\tconst obj = {\n\t\t\t\tget foo() {\n\t\t\t\t\treturn 1\n\t\t\t\t},\n\t\t\t\tset foo(_v) {},\n\t\t\t}\n\t\t\tsignalify(obj, 'foo')\n\t\t\tconst before = Object.getOwnPropertyDescriptor(obj, 'foo')?.get\n\t\t\tmemoify(obj, 'foo')\n\t\t\tconst after = Object.getOwnPropertyDescriptor(obj, 'foo')?.get\n\t\t\texpect(before).toBe(after)\n\t\t})\n\n\t\tdescribe('plain object memoification', () => {\n\t\t\tit('memoifies a readonly method (arity 0)', () => {\n\t\t\t\tlet computeCount = 0\n\t\t\t\tconst obj = {\n\t\t\t\t\ta: 1,\n\t\t\t\t\tb: 2,\n\t\t\t\t\tsum() {\n\t\t\t\t\t\tcomputeCount++\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\tsignalify(obj, 'a', 'b')\n\t\t\t\tmemoify(obj, 'sum')\n\t\t\t\tlet lastSum = 0\n\t\t\t\tlet effectCount = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSum = obj.sum()\n\t\t\t\t\teffectCount++\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(3)\n\t\t\t\texpect(effectCount).toBe(1)\n\t\t\t\texpect(computeCount).toBe(1)\n\t\t\t\tobj.a = 5\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(effectCount).toBe(2)\n\t\t\t\texpect(computeCount).toBe(2)\n\t\t\t\t// Should not trigger effect if computed value doesn't change\n\t\t\t\tbatch(() => {\n\t\t\t\t\tobj.a = 3\n\t\t\t\t\tobj.b = 4\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(effectCount).toBe(2)\n\t\t\t\texpect(computeCount).toBe(3) // recomputed but effect not triggered\n\t\t\t\t// @ts-expect-error Readonly memo cannot be set\n\t\t\t\texpect(() => obj.sum(20)).toThrow()\n\t\t\t})\n\n\t\t\tit('memoifies a writable method (arity > 0)', () => {\n\t\t\t\tlet computeCount = 0\n\t\t\t\tconst obj = {\n\t\t\t\t\ta: 1,\n\t\t\t\t\tb: 2,\n\t\t\t\t\tsum(_val?: number) {\n\t\t\t\t\t\tcomputeCount++\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\tsignalify(obj, 'a', 'b')\n\t\t\t\tmemoify(obj, 'sum')\n\t\t\t\tlet lastSum = 0\n\t\t\t\tlet effectCount = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSum = obj.sum()\n\t\t\t\t\teffectCount++\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(3)\n\t\t\t\texpect(effectCount).toBe(1)\n\t\t\t\texpect(computeCount).toBe(1)\n\t\t\t\tobj.a = 5\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(effectCount).toBe(2)\n\t\t\t\texpect(computeCount).toBe(2)\n\t\t\t\t// Writable memo can be set directly\n\t\t\t\tobj.sum(20)\n\t\t\t\texpect(lastSum).toBe(20)\n\t\t\t\texpect(effectCount).toBe(3)\n\t\t\t\texpect(computeCount).toBe(2)\n\t\t\t\t// Changing dependencies resumes memo computation\n\t\t\t\tobj.a = 10\n\t\t\t\texpect(lastSum).toBe(12)\n\t\t\t\texpect(effectCount).toBe(4)\n\t\t\t\texpect(computeCount).toBe(3)\n\t\t\t})\n\n\t\t\tit('memoifies a getter (readonly)', () => {\n\t\t\t\tlet computeCount = 0\n\t\t\t\tconst obj = {\n\t\t\t\t\ta: 1,\n\t\t\t\t\tb: 2,\n\t\t\t\t\tget sum() {\n\t\t\t\t\t\tcomputeCount++\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\tsignalify(obj, 'a', 'b')\n\t\t\t\tmemoify(obj, 'sum')\n\t\t\t\tlet lastSum = 0\n\t\t\t\tlet effectCount = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSum = obj.sum\n\t\t\t\t\teffectCount++\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(3)\n\t\t\t\texpect(effectCount).toBe(1)\n\t\t\t\texpect(computeCount).toBe(1)\n\t\t\t\tobj.a = 5\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(effectCount).toBe(2)\n\t\t\t\texpect(computeCount).toBe(2)\n\t\t\t\t// @ts-expect-error Readonly memo cannot be set\n\t\t\t\texpect(() => (obj.sum = 20)).toThrow()\n\t\t\t})\n\n\t\t\tit('memoifies a getter/setter (writable)', () => {\n\t\t\t\tlet computeCount = 0\n\t\t\t\tconst obj = {\n\t\t\t\t\ta: 1,\n\t\t\t\t\tb: 2,\n\t\t\t\t\tget sum() {\n\t\t\t\t\t\tcomputeCount++\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t},\n\t\t\t\t\tset sum(_val) {},\n\t\t\t\t}\n\t\t\t\tsignalify(obj, 'a', 'b')\n\t\t\t\tmemoify(obj, 'sum')\n\t\t\t\tlet lastSum = 0\n\t\t\t\tlet effectCount = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSum = obj.sum\n\t\t\t\t\teffectCount++\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(3)\n\t\t\t\texpect(effectCount).toBe(1)\n\t\t\t\texpect(computeCount).toBe(1)\n\t\t\t\tobj.a = 5\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(effectCount).toBe(2)\n\t\t\t\texpect(computeCount).toBe(2)\n\t\t\t\t// Writable memo can be set directly\n\t\t\t\tobj.sum = 20\n\t\t\t\texpect(lastSum).toBe(20)\n\t\t\t\texpect(effectCount).toBe(3)\n\t\t\t\texpect(computeCount).toBe(2)\n\t\t\t\t// Changing dependencies resumes memo computation\n\t\t\t\tobj.a = 10\n\t\t\t\texpect(lastSum).toBe(12)\n\t\t\t\texpect(effectCount).toBe(4)\n\t\t\t\texpect(computeCount).toBe(3)\n\t\t\t})\n\t\t})\n\n\t\tdescribe('class memoification', () => {\n\t\t\tit('memoifies class methods (readonly/writable)', () => {\n\t\t\t\tclass Example {\n\t\t\t\t\ta = 1\n\t\t\t\t\tb = 2\n\t\t\t\t\tsum() {\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t}\n\t\t\t\t\tsumWritable(_val?: number) {\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst ex = new Example()\n\t\t\t\tsignalify(ex, 'a', 'b')\n\t\t\t\tmemoify(ex, 'sum', 'sumWritable')\n\t\t\t\tlet lastSum = 0\n\t\t\t\tlet lastSumWritable = 0\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSum = ex.sum()\n\t\t\t\t\tcount++\n\t\t\t\t})\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSumWritable = ex.sumWritable()\n\t\t\t\t\tcount++\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(3)\n\t\t\t\texpect(lastSumWritable).toBe(3)\n\t\t\t\texpect(count).toBe(2)\n\t\t\t\tex.a = 5\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(lastSumWritable).toBe(7)\n\t\t\t\texpect(count).toBe(4)\n\t\t\t\t// Writable memo can be set directly\n\t\t\t\tex.sumWritable(20)\n\t\t\t\texpect(lastSumWritable).toBe(20)\n\t\t\t\texpect(count).toBe(5)\n\t\t\t\t// Changing dependencies resumes memo computation\n\t\t\t\tex.a = 10\n\t\t\t\texpect(lastSum).toBe(12)\n\t\t\t\texpect(lastSumWritable).toBe(12)\n\t\t\t\texpect(count).toBe(7)\n\t\t\t})\n\n\t\t\tit('memoifies getter/setter properties', () => {\n\t\t\t\tclass Example {\n\t\t\t\t\ta = 1\n\t\t\t\t\tb = 2\n\t\t\t\t\tget sum() {\n\t\t\t\t\t\treturn this.a + this.b\n\t\t\t\t\t}\n\t\t\t\t\tset sum(_val) {}\n\t\t\t\t}\n\t\t\t\tconst ex = new Example()\n\t\t\t\tsignalify(ex, 'a', 'b')\n\t\t\t\tmemoify(ex, 'sum')\n\t\t\t\tlet lastSum = 0\n\t\t\t\tlet count = 0\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tlastSum = ex.sum\n\t\t\t\t\tcount++\n\t\t\t\t})\n\t\t\t\texpect(lastSum).toBe(3)\n\t\t\t\texpect(count).toBe(1)\n\t\t\t\tex.a = 5\n\t\t\t\texpect(lastSum).toBe(7)\n\t\t\t\texpect(count).toBe(2)\n\t\t\t\t// Writable memo can be set directly\n\t\t\t\tex.sum = 20\n\t\t\t\texpect(lastSum).toBe(20)\n\t\t\t\texpect(count).toBe(3)\n\t\t\t\t// Changing dependencies resumes memo computation\n\t\t\t\tex.a = 10\n\t\t\t\texpect(lastSum).toBe(12)\n\t\t\t\texpect(count).toBe(4)\n\t\t\t})\n\t\t})\n\n\t\tit('handles memo depending on other memos', () => {\n\t\t\tconst obj = {\n\t\t\t\ta: 2,\n\t\t\t\tget squared() {\n\t\t\t\t\treturn this.a * this.a\n\t\t\t\t},\n\t\t\t\tget cubed() {\n\t\t\t\t\treturn this.squared * this.a\n\t\t\t\t},\n\t\t\t}\n\t\t\tsignalify(obj, 'a')\n\t\t\tmemoify(obj, 'squared', 'cubed')\n\t\t\tlet squared = 0\n\t\t\tlet cubed = 0\n\t\t\tlet count = 0\n\t\t\tcreateEffect(() => {\n\t\t\t\tsquared = obj.squared\n\t\t\t\tcubed = obj.cubed\n\t\t\t\tcount++\n\t\t\t})\n\t\t\texpect(squared).toBe(4)\n\t\t\texpect(cubed).toBe(8)\n\t\t\texpect(count).toBe(1)\n\t\t\tobj.a = 3\n\t\t\texpect(squared).toBe(9)\n\t\t\texpect(cubed).toBe(27)\n\t\t\texpect(count).toBe(2)\n\t\t})\n\n\t\tit('works with multiple memo properties', () => {\n\t\t\tconst obj = {\n\t\t\t\tvalue: 10,\n\t\t\t\tdouble() {\n\t\t\t\t\treturn this.value * 2\n\t\t\t\t},\n\t\t\t\ttriple() {\n\t\t\t\t\treturn this.value * 3\n\t\t\t\t},\n\t\t\t\tquadruple() {\n\t\t\t\t\treturn this.value * 4\n\t\t\t\t},\n\t\t\t}\n\t\t\tsignalify(obj, 'value')\n\t\t\tmemoify(obj, 'double', 'triple', 'quadruple')\n\t\t\tlet double = 0\n\t\t\tlet triple = 0\n\t\t\tlet quadruple = 0\n\t\t\tlet doubleCount = 0\n\t\t\tlet tripleCount = 0\n\t\t\tlet quadCount = 0\n\t\t\tcreateEffect(() => {\n\t\t\t\tdouble = obj.double()\n\t\t\t\tdoubleCount++\n\t\t\t})\n\t\t\tcreateEffect(() => {\n\t\t\t\ttriple = obj.triple()\n\t\t\t\ttripleCount++\n\t\t\t})\n\t\t\tcreateEffect(() => {\n\t\t\t\tquadruple = obj.quadruple()\n\t\t\t\tquadCount++\n\t\t\t})\n\t\t\texpect(double).toBe(20)\n\t\t\texpect(triple).toBe(30)\n\t\t\texpect(quadruple).toBe(40)\n\t\t\texpect(doubleCount).toBe(1)\n\t\t\texpect(tripleCount).toBe(1)\n\t\t\texpect(quadCount).toBe(1)\n\t\t\tobj.value = 5\n\t\t\texpect(double).toBe(10)\n\t\t\texpect(triple).toBe(15)\n\t\t\texpect(quadruple).toBe(20)\n\t\t\texpect(doubleCount).toBe(2)\n\t\t\texpect(tripleCount).toBe(2)\n\t\t\texpect(quadCount).toBe(2)\n\t\t})\n\n\t\tit('type errors for non-existent properties', () => {\n\t\t\tconst obj = {a: 1}\n\t\t\t// @ts-expect-error \"foo\" is not a property on obj\n\t\t\tmemoify(obj, 'foo')\n\t\t})\n\n\t\tit('memo with no dependencies', () => {\n\t\t\tlet computeCount = 0\n\t\t\tconst obj = {\n\t\t\t\tstaticValue() {\n\t\t\t\t\tcomputeCount++\n\t\t\t\t\treturn 42\n\t\t\t\t},\n\t\t\t}\n\t\t\tmemoify(obj, 'staticValue')\n\t\t\tlet value = 0\n\t\t\tlet count = 0\n\t\t\tcreateEffect(() => {\n\t\t\t\tvalue = obj.staticValue()\n\t\t\t\tcount++\n\t\t\t})\n\t\t\texpect(value).toBe(42)\n\t\t\texpect(count).toBe(1)\n\t\t\texpect(computeCount).toBe(1)\n\t\t\t// Should not recompute\n\t\t\texpect(obj.staticValue()).toBe(42)\n\t\t\texpect(computeCount).toBe(1)\n\t\t})\n\t})\n})\n"],"mappings":"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","ignoreList":[]}