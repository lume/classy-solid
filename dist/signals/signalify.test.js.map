{"version":3,"file":"signalify.test.js","names":["createMutable","signalify","testButterflyProps","createEffect","untrack","describe","it","obj","n","obj2","expect","toBe","butterfly","colors","_wingSize","wingSize","s","b","test","signalifyInitially","console","log","Butterfly","constructor","b2","prototype","Foo","amount","Bar","double","count","a","foo","name","Object","assign","create","countA","countB"],"sources":["../../src/signals/signalify.test.ts"],"sourcesContent":["import {createMutable} from 'solid-js/store'\nimport {signalify} from './signalify.js'\nimport {testButterflyProps} from '../index.test.js'\nimport {createEffect, untrack} from 'solid-js'\n\ndescribe('classy-solid', () => {\n\tdescribe('signalify()', () => {\n\t\tit('returns the same object that was passed in', () => {\n\t\t\tlet obj = {n: 123}\n\t\t\tlet obj2 = signalify(obj, 'n')\n\t\t\texpect(obj).toBe(obj2)\n\n\t\t\tobj = createMutable({n: 123})\n\t\t\tobj2 = signalify(obj, 'n')\n\t\t\texpect(obj).toBe(obj2)\n\t\t})\n\n\t\tdescribe('making objects reactive with signalify()', () => {\n\t\t\tit('', () => {\n\t\t\t\tconst butterfly = {\n\t\t\t\t\tcolors: 3,\n\n\t\t\t\t\t_wingSize: 2,\n\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this._wingSize\n\t\t\t\t\t},\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis._wingSize = s\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tconst b = signalify(butterfly, 'colors', 'wingSize')\n\n\t\t\t\ttestButterflyProps(b)\n\n\t\t\t\t// quick type check:\n\t\t\t\t// @ts-expect-error \"foo\" is not a property on butterfly\n\t\t\t\tsignalify(butterfly, 'colors', 'wingSize', 'foo')\n\t\t\t})\n\n\t\t\tit('is not tracked inside of an effect to prevent loops', () => {\n\t\t\t\ttest(true)\n\t\t\t\ttest(false)\n\n\t\t\t\tfunction test(signalifyInitially: boolean) {\n\t\t\t\t\t// Library author provides obj\n\t\t\t\t\tconst obj = {n: 123}\n\t\t\t\t\tif (signalifyInitially) signalify(obj, 'n') // library author might signalify obj.n\n\n\t\t\t\t\t// User code:\n\t\t\t\t\tcreateEffect(() => {\n\t\t\t\t\t\t// o.n may or may not already be signalified, user does not know, but they want to be sure they can react to its changes.\n\t\t\t\t\t\tsignalify(obj, 'n')\n\n\t\t\t\t\t\tobj.n = 123 // does not make an infinite loop\n\n\t\t\t\t\t\t// A deeper effect will be reading the property.\n\t\t\t\t\t\tcreateEffect(() => {\n\t\t\t\t\t\t\tconsole.log(obj.n)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\n\t\t\t\t\t// No expectations in this test, the test passes if a maximum\n\t\t\t\t\t// callstack size error (infinite loop) does not happen.\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\n\t\tdescribe('making reactive classes with signalify instead of with decorators', () => {\n\t\t\tit('makes class fields reactive, not using any decorators', () => {\n\t\t\t\tclass Butterfly {\n\t\t\t\t\tcolors = 3\n\n\t\t\t\t\t#wingSize = 2\n\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this.#wingSize\n\t\t\t\t\t}\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis.#wingSize = s\n\t\t\t\t\t}\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst b = new Butterfly()\n\n\t\t\t\ttestButterflyProps(b)\n\n\t\t\t\t// quick type check:\n\t\t\t\tconst b2 = new Butterfly()\n\t\t\t\t// @ts-expect-error \"foo\" is not a property on Butterfly\n\t\t\t\tsignalify(b2, 'colors', 'wingSize', 'foo')\n\t\t\t})\n\n\t\t\tit('makes constructor properties reactive, not using any decorators', () => {\n\t\t\t\tclass Butterfly {\n\t\t\t\t\tdeclare colors: number\n\n\t\t\t\t\t#wingSize: number\n\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this.#wingSize\n\t\t\t\t\t}\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis.#wingSize = s\n\t\t\t\t\t}\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tthis.colors = 3\n\t\t\t\t\t\tthis.#wingSize = 2\n\n\t\t\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst b = new Butterfly()\n\n\t\t\t\ttestButterflyProps(b)\n\t\t\t})\n\n\t\t\tit('works with a function-style class, with signalify in the constructor', () => {\n\t\t\t\tfunction Butterfly() {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tthis.colors = 3\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tthis._wingSize = 2\n\n\t\t\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t\t}\n\n\t\t\t\tButterfly.prototype = {\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this._wingSize\n\t\t\t\t\t},\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis._wingSize = s\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\t// @ts-ignore\n\t\t\t\tconst b = new Butterfly()\n\t\t\t\ttestButterflyProps(b)\n\t\t\t})\n\n\t\t\tit('works with a function-style class, with properties on the prototype, and signalify in constructor', () => {\n\t\t\t\tfunction Butterfly() {\n\t\t\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\t\t\tsignalify(this, 'colors', 'wingSize')\n\t\t\t\t}\n\n\t\t\t\tButterfly.prototype = {\n\t\t\t\t\tcolors: 3,\n\t\t\t\t\t_wingSize: 2,\n\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this._wingSize\n\t\t\t\t\t},\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis._wingSize = s\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\t\tconst b = new Butterfly()\n\t\t\t\ttestButterflyProps(b)\n\t\t\t})\n\n\t\t\tit('can be used on a function-style class, with properties on the prototype, and signalify on the prototype', () => {\n\t\t\t\tfunction Butterfly() {}\n\n\t\t\t\tButterfly.prototype = {\n\t\t\t\t\tcolors: 3,\n\t\t\t\t\t_wingSize: 2,\n\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this._wingSize\n\t\t\t\t\t},\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis._wingSize = s\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tsignalify(Butterfly.prototype, 'colors', 'wingSize')\n\n\t\t\t\t// @ts-ignore no type checking for ES5-style classes.\n\t\t\t\tconst b = new Butterfly()\n\t\t\t\ttestButterflyProps(b)\n\t\t\t})\n\n\t\t\tit('can be used on a function-style class, with properties in the constructor, and signalify on the prototype', () => {\n\t\t\t\tfunction Butterfly() {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tthis.colors = 3\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tthis._wingSize = 2\n\t\t\t\t}\n\n\t\t\t\tButterfly.prototype = {\n\t\t\t\t\tget wingSize() {\n\t\t\t\t\t\treturn this._wingSize\n\t\t\t\t\t},\n\t\t\t\t\tset wingSize(s: number) {\n\t\t\t\t\t\tthis._wingSize = s\n\t\t\t\t\t},\n\t\t\t\t}\n\n\t\t\t\tsignalify(Butterfly.prototype, 'colors', 'wingSize')\n\n\t\t\t\t// @ts-ignore\n\t\t\t\tconst b = new Butterfly()\n\t\t\t\ttestButterflyProps(b)\n\t\t\t})\n\n\t\t\tit('show that signalify causes constructor to be reactive when used manually instead of decorators', () => {\n\t\t\t\tclass Foo {\n\t\t\t\t\tamount = 3\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsignalify(this, 'amount')\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Bar extends Foo {\n\t\t\t\t\tdouble = 0\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper()\n\t\t\t\t\t\tsignalify(this, 'double')\n\t\t\t\t\t\tthis.double = this.amount * 2 // this tracks access of .amount\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet count = 0\n\t\t\t\tlet b!: Bar\n\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tb = new Bar() // tracks .amount\n\t\t\t\t\tcount++\n\t\t\t\t})\n\n\t\t\t\texpect(count).toBe(1)\n\n\t\t\t\tb.amount = 4 // triggers\n\n\t\t\t\texpect(count).toBe(2)\n\t\t\t})\n\n\t\t\tit('show how to manually untrack constructors when not using decorators', () => {\n\t\t\t\tclass Foo {\n\t\t\t\t\tamount = 3\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsignalify(this, 'amount')\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclass Bar extends Foo {\n\t\t\t\t\tdouble = 0\n\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper()\n\t\t\t\t\t\tsignalify(this, 'double')\n\n\t\t\t\t\t\tuntrack(() => {\n\t\t\t\t\t\t\tthis.double = this.amount * 2\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet count = 0\n\t\t\t\tlet b!: Bar\n\n\t\t\t\tcreateEffect(() => {\n\t\t\t\t\tb = new Bar() // does not track .amount\n\t\t\t\t\tcount++\n\t\t\t\t})\n\n\t\t\t\texpect(count).toBe(1)\n\n\t\t\t\tb.amount = 4 // will not trigger\n\n\t\t\t\texpect(count).toBe(1)\n\t\t\t})\n\t\t})\n\n\t\tit('creates signal storage per descriptor+object pair, not per descriptor', () => {\n\t\t\t// This ensures we don't accidentally share a signal with multiple\n\t\t\t// objects. For example, we don't want a single signal per descriptor\n\t\t\t// because if the descriptor is on a prototype object, then that single\n\t\t\t// signal will erroneously be used by all objects extending from that\n\t\t\t// prototype.\n\n\t\t\tconst a = signalify({foo: 0, name: 'a'}, 'foo')\n\t\t\tconst b = Object.assign(Object.create(a) as typeof a, {name: 'b'})\n\n\t\t\texpect(a.foo).toBe(0)\n\t\t\texpect(b.foo).toBe(0)\n\n\t\t\tlet countA = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\ta.foo\n\t\t\t\tcountA++\n\t\t\t})\n\n\t\t\tlet countB = 0\n\n\t\t\tcreateEffect(() => {\n\t\t\t\tb.foo\n\t\t\t\tcountB++\n\t\t\t})\n\n\t\t\texpect(countA).toBe(1)\n\t\t\texpect(countB).toBe(1)\n\n\t\t\ta.foo++\n\n\t\t\texpect(a.foo).toBe(1)\n\t\t\texpect(countA).toBe(2)\n\n\t\t\t// ensure that updating a's foo property did not update b's foo\n\t\t\t// property or trigger b's effect, despite that the property is\n\t\t\t// defined in a single location on the prototype.\n\t\t\t// @ts-ignore\n\t\t\texpect(b.foo).toBe(0)\n\t\t\texpect(countB).toBe(1)\n\t\t})\n\t})\n})\n"],"mappings":"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","ignoreList":[]}